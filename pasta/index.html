<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üçù –ü–∞—Å—Ç–∞ –ø–æ-–∏—Ç–∞–ª—å—è–Ω—Å–∫–∏ | –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --green: #008C45;      /* –ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–π –∑–µ–ª–µ–Ω—ã–π */
            --white: #F4F9FF;      /* –ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–π –±–µ–ª—ã–π */
            --red: #CD212A;        /* –ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–π –∫—Ä–∞—Å–Ω—ã–π */
            --gold: #FFCC00;       /* –ó–æ–ª–æ—Ç–æ–π –∞–∫—Ü–µ–Ω—Ç */
            --dark: #2D2A26;       /* –¢–µ–º–Ω—ã–π –¥–ª—è —Ç–µ–∫—Å—Ç–∞ */
            --light-bg: #FFF9F0;   /* –°–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω */
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--light-bg);
            color: var(--dark);
            line-height: 1.6;
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
            min-height: 100vh;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(0, 140, 69, 0.05) 0%, transparent 25%),
                radial-gradient(circle at 90% 80%, rgba(205, 33, 42, 0.05) 0%, transparent 25%);
        }
        
        /* –ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–π —Ç—Ä–∏–∫–æ–ª–æ—Ä –≤ —à–∞–ø–∫–µ */
        .header-flag {
            height: 15px;
            background: linear-gradient(90deg, var(--green) 33%, var(--white) 33%, var(--white) 66%, var(--red) 66%);
            border-radius: 10px 10px 0 0;
            margin-bottom: -5px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: var(--white);
            border-radius: 0 0 20px 20px;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            border: 3px solid var(--white);
            background-image: 
                linear-gradient(45deg, var(--green) 25%, transparent 25%),
                linear-gradient(-45deg, var(--green) 25%, transparent 25%),
                linear-gradient(45deg, transparent 75%, var(--red) 75%),
                linear-gradient(-45deg, transparent 75%, var(--red) 75%);
            background-size: 40px 40px;
            background-position: 0 0, 0 20px, 20px -20px, -20px 0px;
        }
        
        .header-content {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 2px solid var(--white);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            color: var(--dark);
            position: relative;
            display: inline-block;
        }
        
        h1::before {
            content: "üçù";
            margin-right: 15px;
            font-size: 2.5rem;
        }
        
        .subtitle {
            font-size: 1.3rem;
            margin-bottom: 25px;
            color: var(--dark);
        }
        
        /* –í—ã–±–æ—Ä —Ç–∏–ø–∞ –ø–∞—Å—Ç—ã */
        .pasta-types {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin: 20px 0;
        }
        
        .pasta-type-btn {
            padding: 15px 25px;
            background: var(--white);
            border: 2px solid #ddd;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            min-width: 180px;
        }
        
        .pasta-type-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }
        
        .pasta-type-btn.active {
            background: var(--green);
            color: white;
            border-color: var(--green);
        }
        
        /* –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
        .controls-panel {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            justify-content: center;
            margin: 20px 0;
        }
        
        .control-group {
            background: var(--white);
            padding: 20px;
            border-radius: 15px;
            min-width: 250px;
            box-shadow: var(--shadow);
            transition: transform 0.3s;
            border: 2px solid #eee;
        }
        
        .control-group:hover {
            transform: translateY(-5px);
            border-color: var(--green);
        }
        
        .control-group h3 {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--green);
        }
        
        /* –°–ª–∞–π–¥–µ—Ä—ã */
        .slider-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        input[type="range"] {
            width: 100%;
            height: 12px;
            -webkit-appearance: none;
            background: #eee;
            border-radius: 10px;
            outline: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: var(--red);
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }
        
        .slider-value-display {
            font-size: 2.2rem;
            font-weight: bold;
            margin: 10px 0;
            color: var(--green);
        }
        
        /* –û–ø—Ü–∏–∏ */
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .option-row {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            border-radius: 10px;
            background: #f9f9f9;
            transition: background 0.3s;
        }
        
        .option-row:hover {
            background: #f0f0f0;
        }
        
        .option-row input[type="radio"], 
        .option-row input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: var(--green);
        }
        
        /* –°—Ç–æ–∏–º–æ—Å—Ç—å */
        .cost-summary {
            background: var(--white);
            padding: 20px;
            border-radius: 15px;
            min-width: 250px;
            box-shadow: var(--shadow);
            border: 2px solid #eee;
        }
        
        .cost-summary h3 {
            color: var(--green);
            margin-bottom: 15px;
        }
        
        .cost-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px dashed #ddd;
        }
        
        .cost-row.total {
            border-top: 2px solid var(--green);
            border-bottom: none;
            font-weight: bold;
            font-size: 1.2rem;
            padding-top: 15px;
            margin-top: 10px;
        }
        
        .cost-amount {
            color: var(--red);
            font-weight: bold;
        }
        
        /* –¢–∞–π–º–µ—Ä—ã */
        .timer-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .timer-item {
            background-color: var(--white);
            color: var(--dark);
            padding: 18px 25px;
            border-radius: 15px;
            text-align: center;
            min-width: 160px;
            transition: transform 0.3s, box-shadow 0.3s;
            border: 2px solid #eee;
        }
        
        .timer-item:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            border-color: var(--green);
        }
        
        .timer-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: var(--green);
        }
        
        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }
        
        @media (max-width: 1100px) {
            .container {
                grid-template-columns: 1fr;
            }
        }
        
        .card {
            background-color: var(--white);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            transition: transform 0.4s, box-shadow 0.4s;
            border: 2px solid #eee;
        }
        
        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
            border-color: var(--green);
        }
        
        .card h2 {
            color: var(--green);
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid var(--red);
            display: flex;
            align-items: center;
        }
        
        .card h2 i {
            margin-right: 12px;
        }
        
        /* –°–ø–∏—Å–∫–∏ */
        .ingredients-list, .steps-list {
            list-style-type: none;
        }
        
        .ingredients-list li, .steps-list li {
            padding: 14px 0;
            border-bottom: 1px dashed #eee;
            display: flex;
            align-items: center;
            transition: all 0.3s;
        }
        
        .ingredients-list li:hover, .steps-list li:hover {
            background-color: rgba(0, 140, 69, 0.05);
            border-radius: 8px;
            padding-left: 10px;
            padding-right: 10px;
        }
        
        .ingredient-checkbox {
            margin-right: 15px;
            width: 22px;
            height: 22px;
            cursor: pointer;
            accent-color: var(--green);
        }
        
        .ingredient-amount {
            font-weight: bold;
            color: var(--red);
            min-width: 100px;
        }
        
        .step-number {
            background-color: var(--green);
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
            flex-shrink: 0;
        }
        
        .step-timer {
            display: inline-flex;
            align-items: center;
            margin-left: 10px;
            color: var(--red);
            font-weight: bold;
            cursor: pointer;
            background-color: rgba(205, 33, 42, 0.1);
            padding: 5px 10px;
            border-radius: 20px;
            margin-top: 10px;
        }
        
        /* –ü—Ä–æ–≥—Ä–µ—Å—Å */
        .progress-summary {
            margin-top: 25px;
            padding: 20px;
            background-color: rgba(0, 140, 69, 0.1);
            border-radius: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 2px dashed rgba(0, 140, 69, 0.3);
        }
        
        .progress-bar {
            width: 100%;
            height: 12px;
            background-color: #ddd;
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 8px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--green), var(--red));
            width: 0%;
            transition: width 0.7s;
        }
        
        /* –ö–Ω–æ–ø–∫–∏ */
        .reset-btn, .print-btn {
            display: block;
            margin: 25px auto 0;
            padding: 14px 30px;
            background-color: var(--green);
            color: white;
            border: none;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            justify-content: center;
            text-decoration: none;
        }
        
        .reset-btn:hover, .print-btn:hover {
            background-color: var(--red);
            transform: translateY(-3px);
        }
        
        /* –§—É—Ç–µ—Ä */
        footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 25px;
            border-top: 2px solid #eee;
            color: #777;
            font-size: 0.9rem;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 0.5s;
        }
        
        /* –ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã */
        .italian-flag {
            display: inline-flex;
            width: 30px;
            height: 20px;
            border-radius: 3px;
            overflow: hidden;
            margin: 0 10px;
            vertical-align: middle;
        }
        
        .flag-stripe {
            width: 33.33%;
            height: 100%;
        }
        
        .flag-green { background-color: var(--green); }
        .flag-white { background-color: var(--white); }
        .flag-red { background-color: var(--red); }
        
        /* –ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ —Ä–µ—Ü–µ–ø—Ç–∞–º */
        .pasta-tip {
            background-color: rgba(255, 204, 0, 0.15);
            border-left: 5px solid var(--gold);
            padding: 20px;
            margin-top: 25px;
            border-radius: 0 10px 10px 0;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .pasta-types {
                flex-direction: column;
                align-items: center;
            }
            
            .pasta-type-btn {
                width: 100%;
                max-width: 300px;
            }
            
            .controls-panel {
                flex-direction: column;
                align-items: center;
            }
            
            .control-group, .cost-summary {
                width: 100%;
                max-width: 400px;
            }
        }
        
        /* –ù–æ–≤—ã–π —Å—Ç–∏–ª—å –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –Ω–∞—Ä–µ–∑–∫–∏ */
        .cutting-instruction {
            background-color: rgba(0, 140, 69, 0.05);
            border-left: 3px solid var(--green);
            padding: 12px 15px;
            margin: 10px 0;
            border-radius: 0 8px 8px 0;
            font-size: 0.95rem;
        }
        
        .cutting-instruction strong {
            color: var(--green);
            display: block;
            margin-bottom: 5px;
        }
        
        .highlight-quantity {
            background-color: rgba(205, 33, 42, 0.1);
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
            color: var(--red);
            margin: 0 3px;
        }
        
        .step-detail {
            margin-top: 8px;
            font-size: 0.9rem;
            color: #666;
        }
    </style>
</head>
<body>
    <!-- –ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–π —Ñ–ª–∞–≥ —Å–≤–µ—Ä—Ö—É -->
    <div class="header-flag"></div>
    
    <header>
        <div class="header-content">
            <h1>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç –ø–∞—Å—Ç—ã</h1>
            <p class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø–∞—Å—Ç—ã, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –ø–æ–¥ —Å–≤–æ–π –≤–∫—É—Å –∏ —Ä–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ —Å—Ç–æ–∏–º–æ—Å—Ç—å</p>
            
            <!-- –í—ã–±–æ—Ä —Ç–∏–ø–∞ –ø–∞—Å—Ç—ã -->
            <div class="pasta-types" id="pastaTypes">
                <button class="pasta-type-btn active" data-type="carbonara">
                    <i class="fas fa-bacon"></i> –ö–∞—Ä–±–æ–Ω–∞—Ä–∞
                </button>
                <button class="pasta-type-btn" data-type="cream-mushroom">
                    <i class="fas fa-cheese"></i> –°–ª–∏–≤–æ—á–Ω–∞—è —Å –≥—Ä–∏–±–∞–º–∏
                </button>
                <button class="pasta-type-btn" data-type="bolognese">
                    <i class="fas fa-drumstick-bite"></i> –ë–æ–ª–æ–Ω—å–µ–∑–µ
                </button>
                <button class="pasta-type-btn" data-type="lasagna">
                    <i class="fas fa-layer-group"></i> –õ–∞–∑–∞–Ω—å—è
                </button>
                <button class="pasta-type-btn" data-type="pesto">
                    <i class="fas fa-leaf"></i> –ü–µ—Å—Ç–æ
                </button>
                <button class="pasta-type-btn" data-type="seafood">
                    <i class="fas fa-fish"></i> –° –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–∞–º–∏
                </button>
            </div>
            
            <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
            <div class="controls-panel">
                <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ü–∏–π -->
                <div class="control-group">
                    <h3><i class="fas fa-users"></i> –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ü–∏–π</h3>
                    <div class="slider-container">
                        <div style="display: flex; justify-content: space-between; width: 100%; font-size: 0.9rem;">
                            <span>1 –ø–æ—Ä—Ü–∏—è</span>
                            <span>8 –ø–æ—Ä—Ü–∏–π</span>
                        </div>
                        <input type="range" id="portion-slider" min="1" max="8" value="4" step="1">
                        <div class="slider-value-display" id="portion-value">4</div>
                        <div id="pasta-amount">(400–≥ –ø–∞—Å—Ç—ã)</div>
                    </div>
                </div>
                
                <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ—Ü–µ–ø—Ç–∞ -->
                <div class="control-group" id="recipe-options">
                    <!-- –û–ø—Ü–∏–∏ –±—É–¥—É—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è JavaScript –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –ø–∞—Å—Ç—ã -->
                </div>
                
                <!-- –°—Ç–æ–∏–º–æ—Å—Ç—å -->
                <div class="cost-summary">
                    <h3><i class="fas fa-calculator"></i> –°—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç–æ–≤</h3>
                    <div class="cost-breakdown">
                        <div class="cost-row">
                            <span>–ü–∞—Å—Ç–∞ –∏ –æ—Å–Ω–æ–≤—ã:</span>
                            <span class="cost-amount" id="cost-pasta">0 —Ä—É–±</span>
                        </div>
                        <div class="cost-row">
                            <span>–°–æ—É—Å –∏ –Ω–∞—á–∏–Ω–∫–∞:</span>
                            <span class="cost-amount" id="cost-sauce">0 —Ä—É–±</span>
                        </div>
                        <div class="cost-row">
                            <span>–°—ã—Ä –∏ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è:</span>
                            <span class="cost-amount" id="cost-cheese">0 —Ä—É–±</span>
                        </div>
                        <div class="cost-row total">
                            <span>–ò—Ç–æ–≥–æ:</span>
                            <span class="cost-amount" id="cost-total">0 —Ä—É–±</span>
                        </div>
                    </div>
                    <div style="font-size: 0.85rem; margin-top: 10px; color: #666;">
                        <i class="fas fa-info-circle"></i> –¶–µ–Ω—ã —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤
                    </div>
                </div>
            </div>
            
            <!-- –¢–∞–π–º–µ—Ä—ã –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="timer-container">
                <div class="timer-item">
                    <div class="timer-value" id="cook-time">12-15 –º–∏–Ω</div>
                    <div class="timer-label">–í—Ä–µ–º—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è</div>
                </div>
                <div class="timer-item">
                    <div class="timer-value" id="cost-per-serving">~0 —Ä—É–±</div>
                    <div class="timer-label">–¶–µ–Ω–∞ –∑–∞ –ø–æ—Ä—Ü–∏—é</div>
                </div>
                <div class="timer-item">
                    <div class="timer-value">‚≠ê 4.8</div>
                    <div class="timer-label">–°–ª–æ–∂–Ω–æ—Å—Ç—å: —Å—Ä–µ–¥–Ω—è—è</div>
                </div>
            </div>
        </div>
    </header>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container">
        <!-- –õ–µ–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞: –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã -->
        <div class="card">
            <h2><i class="fas fa-shopping-cart"></i> –°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫</h2>
            
            <div class="progress-summary">
                <div style="font-weight: bold;">
                    <span>–ö—É–ø–ª–µ–Ω–æ:</span>
                    <span style="color: var(--green); font-size: 1.2rem;" id="bought-count">0</span>
                    <span>–∏–∑</span>
                    <span id="total-ingredients">0</span>
                </div>
                <div style="width: 60%;">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <div style="font-size: 0.85rem; text-align: center;">
                        <span id="progress-percent">0%</span> –≥–æ—Ç–æ–≤–æ
                    </div>
                </div>
            </div>
            
            <div style="margin-top: 20px;">
                <h3 style="color: var(--green); margin-bottom: 15px;">
                    <i class="fas fa-utensils"></i> –û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã
                </h3>
                <ul class="ingredients-list" id="main-ingredients">
                    <!-- –ó–∞–ø–æ–ª–Ω–∏—Ç—Å—è JavaScript -->
                </ul>
            </div>
            
            <div style="margin-top: 25px;">
                <h3 style="color: var(--green); margin-bottom: 15px;">
                    <i class="fas fa-mortar-pestle"></i> –î–ª—è —Å–æ—É—Å–∞
                </h3>
                <ul class="ingredients-list" id="sauce-ingredients">
                    <!-- –ó–∞–ø–æ–ª–Ω–∏—Ç—Å—è JavaScript -->
                </ul>
            </div>
            
            <div style="margin-top: 25px; display: none;" id="additional-category">
                <h3 style="color: var(--green); margin-bottom: 15px;">
                    <i class="fas fa-plus-circle"></i> –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
                </h3>
                <ul class="ingredients-list" id="additional-ingredients">
                    <!-- –ó–∞–ø–æ–ª–Ω–∏—Ç—Å—è JavaScript -->
                </ul>
            </div>
            
            <button class="reset-btn" id="reset-list">
                <i class="fas fa-redo"></i> –°–±—Ä–æ—Å–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫
            </button>
            
            <div class="pasta-tip">
                <p><i class="fas fa-lightbulb"></i> <strong>–°–æ–≤–µ—Ç:</strong> –î–ª—è –∏–¥–µ–∞–ª—å–Ω–æ–π –ø–∞—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ 1 –ª–∏—Ç—Ä –≤–æ–¥—ã –∏ 10–≥ —Å–æ–ª–∏ –Ω–∞ –∫–∞–∂–¥—ã–µ 100–≥ –ø–∞—Å—Ç—ã. –ü–∞—Å—Ç—É –ª—É—á—à–µ –≥–æ—Ç–æ–≤–∏—Ç—å al dente ("–Ω–∞ –∑—É–±–æ–∫").</p>
            </div>
        </div>
        
        <!-- –ü—Ä–∞–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞: –ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ -->
        <div class="card">
            <h2><i class="fas fa-utensil-spoon"></i> –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</h2>
            
            <div style="display: flex; align-items: center; margin-bottom: 20px; padding: 15px; background: #f9f9f9; border-radius: 10px;">
                <div class="italian-flag">
                    <div class="flag-stripe flag-green"></div>
                    <div class="flag-stripe flag-white"></div>
                    <div class="flag-stripe flag-red"></div>
                </div>
                <span style="font-weight: bold; margin-left: 10px;" id="selected-pasta-name">–ü–∞—Å—Ç–∞ –ö–∞—Ä–±–æ–Ω–∞—Ä–∞</span>
                <span style="margin-left: auto; color: var(--red); font-weight: bold;" id="pasta-time">15 –º–∏–Ω</span>
            </div>
            
            <div style="margin-bottom: 20px; padding: 15px; background-color: rgba(255, 204, 0, 0.1); border-radius: 10px; border: 1px dashed var(--gold);">
                <strong><i class="fas fa-cogs"></i> –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:</strong>
                <div id="current-settings-display">–ú—è—Å–æ: –ì—É–∞–Ω—á–∞–ª–µ | –°—ã—Ä: –ü–µ–∫–æ—Ä–∏–Ω–æ –†–æ–º–∞–Ω–æ | –°–ª–∏–≤–∫–∏: –ù–µ—Ç</div>
            </div>
            
            <ul class="steps-list" id="steps-list">
                <!-- –ó–∞–ø–æ–ª–Ω–∏—Ç—Å—è JavaScript -->
            </ul>
            
            <div style="margin-top: 25px; padding: 20px; background: linear-gradient(45deg, rgba(0,140,69,0.1), rgba(205,33,42,0.1)); border-radius: 15px;">
                <h3 style="color: var(--green); margin-bottom: 10px;">
                    <i class="fas fa-graduation-cap"></i> –ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–π —Å–µ–∫—Ä–µ—Ç
                </h3>
                <p id="italian-tip">–ù–∞—Å—Ç–æ—è—â—É—é –∫–∞—Ä–±–æ–Ω–∞—Ä—É –≥–æ—Ç–æ–≤—è—Ç –±–µ–∑ —Å–ª–∏–≤–æ–∫! –°–ª–∏–≤–æ—á–Ω–æ—Å—Ç—å —Å–æ—É—Å—É –ø—Ä–∏–¥–∞—é—Ç –∂–µ–ª—Ç–∫–∏ –∏ —Å—ã—Ä.</p>
            </div>
            
            <div class="pasta-tip">
                <p><i class="fas fa-clock"></i> <strong>–¢–∞–π–º–µ—Ä—ã:</strong> –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–Ω–∞—á–æ–∫ —Ç–∞–π–º–µ—Ä–∞ <i class="fas fa-hourglass-half"></i> —Ä—è–¥–æ–º —Å —à–∞–≥–æ–º, —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–∞–π–º–µ—Ä –¥–ª—è —ç—Ç–æ–≥–æ —ç—Ç–∞–ø–∞.</p>
            </div>
        </div>
    </div>
    
    <!-- –§—É—Ç–µ—Ä -->
    <footer>
        <p>
            <span class="italian-flag" style="width: 20px; height: 15px; margin: 0 5px;"></span>
            –ò—Ç–∞–ª—å—è–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è –¥–æ—Å—Ç—É–ø–Ω–∞ –∫–∞–∂–¥–æ–º—É 
            <span class="italian-flag" style="width: 20px; height: 15px; margin: 0 5px;"></span>
        </p>
        <p style="margin-top: 10px;">–í—Å–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç–∞—Ö</p>
        <a href="javascript:window.print();" class="print-btn">
            <i class="fas fa-print"></i> –†–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç
        </a>
        <br><br>
        <a href="../" style="color: var(--green); text-decoration: none; font-weight: bold;">
            <i class="fas fa-arrow-left"></i> –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é
        </a>
    </footer>

    <script>
        // –ë–ê–ó–ê –î–ê–ù–ù–´–• –†–ï–¶–ï–ü–¢–û–í –ü–ê–°–¢–´ (–£–õ–£–ß–®–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø)
        const pastaRecipes = {
            "carbonara": {
                name: "–ü–∞—Å—Ç–∞ –ö–∞—Ä–±–æ–Ω–∞—Ä–∞",
                cookTime: "12-15 –º–∏–Ω—É—Ç",
                difficulty: "–°—Ä–µ–¥–Ω—è—è",
                baseIngredients: [
                    { id: "pasta", name: "–°–ø–∞–≥–µ—Ç—Ç–∏", baseAmount: 100, unit: "–≥", price: 40 },
                    { id: "guanciale", name: "–ì—É–∞–Ω—á–∞–ª–µ (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –ø–∞–Ω—á–µ—Ç—Ç–æ–π –∏–ª–∏ –±–µ–∫–æ–Ω–æ–º)", baseAmount: 80, unit: "–≥", price: 150 },
                    { id: "egg", name: "–Ø–∏—á–Ω—ã–µ –∂–µ–ª—Ç–∫–∏ (—Å—Ä–µ–¥–Ω–∏–µ —è–π—Ü–∞)", baseAmount: 1, unit: "—à—Ç.", price: 15 },
                    { id: "pecorino", name: "–°—ã—Ä –ü–µ–∫–æ—Ä–∏–Ω–æ –†–æ–º–∞–Ω–æ (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –ø–∞—Ä–º–µ–∑–∞–Ω–æ–º)", baseAmount: 40, unit: "–≥", price: 80 }
                ],
                sauceIngredients: [
                    { id: "blackPepper", name: "–ß–µ—Ä–Ω—ã–π –ø–µ—Ä–µ—Ü —Å–≤–µ–∂–µ–º–æ–ª–æ—Ç—ã–π", baseAmount: 2, unit: "—á.–ª.", price: 5 },
                    { id: "salt", name: "–°–æ–ª—å –¥–ª—è –≤–æ–¥—ã", baseAmount: 10, unit: "–≥", price: 1 }
                ],
                additionalIngredients: [],
                options: [
                    { 
                        id: "guancialeType", 
                        name: "–¢–∏–ø –º—è—Å–∞:", 
                        type: "radio", 
                        options: [
                            { value: "guanciale", label: "–ì—É–∞–Ω—á–∞–ª–µ (—Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ)", price: 200 },
                            { value: "pancetta", label: "–ü–∞–Ω—á–µ—Ç—Ç–∞", price: 180 },
                            { value: "bacon", label: "–ë–µ–∫–æ–Ω", price: 120 }
                        ]
                    },
                    { 
                        id: "cheeseType", 
                        name: "–°—ã—Ä:", 
                        type: "radio", 
                        options: [
                            { value: "pecorino", label: "–ü–µ–∫–æ—Ä–∏–Ω–æ –†–æ–º–∞–Ω–æ", price: 200 },
                            { value: "parmesan", label: "–ü–∞—Ä–º–µ–∑–∞–Ω", price: 180 }
                        ]
                    },
                    { 
                        id: "addCream", 
                        name: "–î–æ–±–∞–≤–∏—Ç—å —Å–ª–∏–≤–∫–∏ (–Ω–µ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ)", 
                        type: "checkbox", 
                        price: 50,
                        additionalIngredient: { id: "cream", name: "–°–ª–∏–≤–∫–∏ 20%", baseAmount: 50, unit: "–º–ª", price: 20 }
                    }
                ],
                tip: "–ù–∞—Å—Ç–æ—è—â—É—é –∫–∞—Ä–±–æ–Ω–∞—Ä—É –≥–æ—Ç–æ–≤—è—Ç –±–µ–∑ —Å–ª–∏–≤–æ–∫! –°–ª–∏–≤–æ—á–Ω–æ—Å—Ç—å —Å–æ—É—Å—É –ø—Ä–∏–¥–∞—é—Ç –∂–µ–ª—Ç–∫–∏ –∏ —Å—ã—Ä."
            },
            
            "cream-mushroom": {
                name: "–ü–∞—Å—Ç–∞ —Å–æ —Å–ª–∏–≤–∫–∞–º–∏ –∏ –≥—Ä–∏–±–∞–º–∏",
                cookTime: "20-25 –º–∏–Ω—É—Ç",
                difficulty: "–õ–µ–≥–∫–∞—è",
                baseIngredients: [
                    { id: "pasta", name: "–§–µ—Ç—Ç—É—á–∏–Ω–µ –∏–ª–∏ —Ç–∞–ª—å—è—Ç–µ–ª–ª–µ", baseAmount: 100, unit: "–≥", price: 45 },
                    { id: "mushrooms", name: "–®–∞–º–ø–∏–Ω—å–æ–Ω—ã —Å–≤–µ–∂–∏–µ", baseAmount: 200, unit: "–≥", price: 100 },
                    { id: "cream", name: "–°–ª–∏–≤–∫–∏ 20%", baseAmount: 200, unit: "–º–ª", price: 80 },
                    { id: "onion", name: "–õ—É–∫ —Ä–µ–ø—á–∞—Ç—ã–π (—Å—Ä–µ–¥–Ω–∏–π)", baseAmount: 1, unit: "—à—Ç.", price: 15 }
                ],
                sauceIngredients: [
                    { id: "garlic", name: "–ß–µ—Å–Ω–æ–∫ (—Å—Ä–µ–¥–Ω–∏–µ –∑—É–±—á–∏–∫–∏)", baseAmount: 2, unit: "–∑—É–±—á–∏–∫–∞", price: 5 },
                    { id: "butter", name: "–°–ª–∏–≤–æ—á–Ω–æ–µ –º–∞—Å–ª–æ", baseAmount: 30, unit: "–≥", price: 20 },
                    { id: "parsley", name: "–ü–µ—Ç—Ä—É—à–∫–∞ —Å–≤–µ–∂–∞—è", baseAmount: 10, unit: "–≥", price: 15 },
                    { id: "salt", name: "–°–æ–ª—å –∏ –ø–µ—Ä–µ—Ü", baseAmount: 5, unit: "–≥", price: 2 }
                ],
                additionalIngredients: [
                    { id: "parmesan", name: "–ü–∞—Ä–º–µ–∑–∞–Ω –¥–ª—è –ø–æ–¥–∞—á–∏", baseAmount: 30, unit: "–≥", price: 60 }
                ],
                options: [
                    { 
                        id: "mushroomType", 
                        name: "–¢–∏–ø –≥—Ä–∏–±–æ–≤:", 
                        type: "radio", 
                        options: [
                            { value: "champignon", label: "–®–∞–º–ø–∏–Ω—å–æ–Ω—ã", price: 100, displayName: "—à–∞–º–ø–∏–Ω—å–æ–Ω—ã" },
                            { value: "shiitake", label: "–®–∏–∏—Ç–∞–∫–µ", price: 200, displayName: "—à–∏–∏—Ç–∞–∫–µ" },
                            { value: "oyster", label: "–í–µ—à–µ–Ω–∫–∏", price: 120, displayName: "–≤–µ—à–µ–Ω–∫–∏" }
                        ]
                    },
                    { 
                        id: "addChicken", 
                        name: "–î–æ–±–∞–≤–∏—Ç—å –∫—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ", 
                        type: "checkbox", 
                        price: 120,
                        additionalIngredient: { id: "chicken", name: "–ö—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ", baseAmount: 150, unit: "–≥", price: 120 }
                    },
                    { 
                        id: "addSpinach", 
                        name: "–î–æ–±–∞–≤–∏—Ç—å —à–ø–∏–Ω–∞—Ç", 
                        type: "checkbox", 
                        price: 50,
                        additionalIngredient: { id: "spinach", name: "–®–ø–∏–Ω–∞—Ç —Å–≤–µ–∂–∏–π", baseAmount: 100, unit: "–≥", price: 50 }
                    }
                ],
                tip: "–ù–µ –ø–µ—Ä–µ–∂–∞—Ä–∏–≤–∞–π—Ç–µ –≥—Ä–∏–±—ã - –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –æ—Å—Ç–∞—Ç—å—Å—è —Å–æ—á–Ω—ã–º–∏. –î–ª—è –±–æ–ª–µ–µ –Ω–∞—Å—ã—â–µ–Ω–Ω–æ–≥–æ –≤–∫—É—Å–∞ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ–º–Ω–æ–≥–æ –±–µ–ª–æ–≥–æ –≤–∏–Ω–∞."
            },
            
            "bolognese": {
                name: "–ü–∞—Å—Ç–∞ –ë–æ–ª–æ–Ω—å–µ–∑–µ",
                cookTime: "45-60 –º–∏–Ω—É—Ç",
                difficulty: "–°—Ä–µ–¥–Ω—è—è",
                baseIngredients: [
                    { id: "pasta", name: "–¢–∞–ª—å—è—Ç–µ–ª–ª–µ –∏–ª–∏ —Ñ–µ—Ç—Ç—É—á–∏–Ω–µ", baseAmount: 100, unit: "–≥", price: 45 },
                    { id: "beef", name: "–ì–æ–≤—è–∂–∏–π —Ñ–∞—Ä—à", baseAmount: 150, unit: "–≥", price: 180 },
                    { id: "tomato", name: "–ü–æ–º–∏–¥–æ—Ä—ã –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º —Å–æ–∫—É", baseAmount: 200, unit: "–≥", price: 70 },
                    { id: "carrot", name: "–ú–æ—Ä–∫–æ–≤—å (—Å—Ä–µ–¥–Ω—è—è)", baseAmount: 1, unit: "—à—Ç.", price: 10 }
                ],
                sauceIngredients: [
                    { id: "onion", name: "–õ—É–∫ —Ä–µ–ø—á–∞—Ç—ã–π (—Å—Ä–µ–¥–Ω–∏–π)", baseAmount: 1, unit: "—à—Ç.", price: 15 },
                    { id: "celery", name: "–°–µ–ª—å–¥–µ—Ä–µ–π —Å—Ç–µ–±–µ–ª—å", baseAmount: 1, unit: "—à—Ç.", price: 20 },
                    { id: "garlic", name: "–ß–µ—Å–Ω–æ–∫", baseAmount: 2, unit: "–∑—É–±—á–∏–∫–∞", price: 5 },
                    { id: "wine", name: "–ö—Ä–∞—Å–Ω–æ–µ –≤–∏–Ω–æ (—Å—É—Ö–æ–µ)", baseAmount: 100, unit: "–º–ª", price: 80 }
                ],
                additionalIngredients: [
                    { id: "parmesan", name: "–ü–∞—Ä–º–µ–∑–∞–Ω –¥–ª—è –ø–æ–¥–∞—á–∏", baseAmount: 30, unit: "–≥", price: 60 },
                    { id: "basil", name: "–ë–∞–∑–∏–ª–∏–∫ —Å–≤–µ–∂–∏–π", baseAmount: 10, unit: "–≥", price: 30 }
                ],
                options: [
                    { 
                        id: "meatType", 
                        name: "–¢–∏–ø —Ñ–∞—Ä—à–∞:", 
                        type: "radio", 
                        options: [
                            { value: "beef", label: "–ì–æ–≤—è–∂–∏–π", price: 180, displayName: "–≥–æ–≤—è–∂–∏–π —Ñ–∞—Ä—à" },
                            { value: "pork", label: "–°–≤–∏–Ω–æ-–≥–æ–≤—è–∂–∏–π", price: 150, displayName: "—Å–≤–∏–Ω–æ-–≥–æ–≤—è–∂–∏–π —Ñ–∞—Ä—à" },
                            { value: "turkey", label: "–ò–Ω–¥–µ–π–∫–∞ (–¥–∏–µ—Ç–∏—á–µ—Å–∫–∏–π)", price: 160, displayName: "—Ñ–∞—Ä—à –∏–∑ –∏–Ω–¥–µ–π–∫–∏" }
                        ]
                    },
                    { 
                        id: "addMilk", 
                        name: "–î–æ–±–∞–≤–∏—Ç—å –º–æ–ª–æ–∫–æ (—Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ)", 
                        type: "checkbox", 
                        price: 30,
                        additionalIngredient: { id: "milk", name: "–ú–æ–ª–æ–∫–æ", baseAmount: 100, unit: "–º–ª", price: 30 }
                    },
                    { 
                        id: "addMushrooms", 
                        name: "–î–æ–±–∞–≤–∏—Ç—å –≥—Ä–∏–±—ã", 
                        type: "checkbox", 
                        price: 80,
                        additionalIngredient: { id: "mushrooms", name: "–®–∞–º–ø–∏–Ω—å–æ–Ω—ã", baseAmount: 150, unit: "–≥", price: 80 }
                    }
                ],
                tip: "–ù–∞—Å—Ç–æ—è—â–∏–π –±–æ–ª–æ–Ω—å–µ–∑–µ —Ç—É—à–∏—Ç—Å—è –º–∏–Ω–∏–º—É–º 2 —á–∞—Å–∞ –Ω–∞ –º–µ–¥–ª–µ–Ω–Ω–æ–º –æ–≥–Ω–µ - —ç—Ç–æ –¥–µ–ª–∞–µ—Ç –º—è—Å–æ –Ω–µ–∂–Ω—ã–º, –∞ —Å–æ—É—Å –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–º."
            },
            
            "lasagna": {
                name: "–õ–∞–∑–∞–Ω—å—è",
                cookTime: "60-75 –º–∏–Ω—É—Ç",
                difficulty: "–°–ª–æ–∂–Ω–∞—è",
                baseIngredients: [
                    { id: "lasagnaSheets", name: "–õ–∏—Å—Ç—ã –¥–ª—è –ª–∞–∑–∞–Ω—å–∏ (—Å—É—Ö–∏–µ)", baseAmount: 6, unit: "—à—Ç.", price: 120 },
                    { id: "beef", name: "–ì–æ–≤—è–∂–∏–π —Ñ–∞—Ä—à", baseAmount: 300, unit: "–≥", price: 180 },
                    { id: "tomato", name: "–ü–æ–º–∏–¥–æ—Ä—ã –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º —Å–æ–∫—É", baseAmount: 400, unit: "–≥", price: 70 },
                    { id: "mozzarella", name: "–ú–æ—Ü–∞—Ä–µ–ª–ª–∞", baseAmount: 200, unit: "–≥", price: 150 }
                ],
                sauceIngredients: [
                    { id: "onion", name: "–õ—É–∫ —Ä–µ–ø—á–∞—Ç—ã–π (–∫—Ä—É–ø–Ω—ã–π)", baseAmount: 1, unit: "—à—Ç.", price: 15 },
                    { id: "carrot", name: "–ú–æ—Ä–∫–æ–≤—å (–∫—Ä—É–ø–Ω–∞—è)", baseAmount: 1, unit: "—à—Ç.", price: 10 },
                    { id: "garlic", name: "–ß–µ—Å–Ω–æ–∫", baseAmount: 3, unit: "–∑—É–±—á–∏–∫–∞", price: 5 },
                    { id: "milk", name: "–ú–æ–ª–æ–∫–æ", baseAmount: 500, unit: "–º–ª", price: 40 }
                ],
                additionalIngredients: [
                    { id: "butter", name: "–°–ª–∏–≤–æ—á–Ω–æ–µ –º–∞—Å–ª–æ", baseAmount: 50, unit: "–≥", price: 35 },
                    { id: "flour", name: "–ú—É–∫–∞", baseAmount: 50, unit: "–≥", price: 10 },
                    { id: "parmesan", name: "–ü–∞—Ä–º–µ–∑–∞–Ω", baseAmount: 100, unit: "–≥", price: 200 },
                    { id: "nutmeg", name: "–ú—É—Å–∫–∞—Ç–Ω—ã–π –æ—Ä–µ—Ö", baseAmount: 1, unit: "—â–µ–ø–æ—Ç–∫–∞", price: 5 }
                ],
                options: [
                    { 
                        id: "meatType", 
                        name: "–ù–∞—á–∏–Ω–∫–∞:", 
                        type: "radio", 
                        options: [
                            { value: "beef", label: "–ú—è—Å–Ω–∞—è (–≥–æ–≤—è–¥–∏–Ω–∞)", price: 180, displayName: "–≥–æ–≤—è–∂–∏–π —Ñ–∞—Ä—à" },
                            { value: "vegetable", label: "–û–≤–æ—â–Ω–∞—è", price: 120, displayName: "–æ–≤–æ—â–Ω–∞—è –Ω–∞—á–∏–Ω–∫–∞" },
                            { value: "chicken", label: "–ö—É—Ä–∏–Ω–∞—è", price: 160, displayName: "–∫—É—Ä–∏–Ω—ã–π —Ñ–∞—Ä—à" }
                        ]
                    },
                    { 
                        id: "addSpinach", 
                        name: "–î–æ–±–∞–≤–∏—Ç—å —à–ø–∏–Ω–∞—Ç –≤ –Ω–∞—á–∏–Ω–∫—É", 
                        type: "checkbox", 
                        price: 50,
                        additionalIngredient: { id: "spinach", name: "–®–ø–∏–Ω–∞—Ç —Å–≤–µ–∂–∏–π", baseAmount: 200, unit: "–≥", price: 50 }
                    },
                    { 
                        id: "addMushrooms", 
                        name: "–î–æ–±–∞–≤–∏—Ç—å –≥—Ä–∏–±—ã", 
                        type: "checkbox", 
                        price: 80,
                        additionalIngredient: { id: "mushrooms", name: "–®–∞–º–ø–∏–Ω—å–æ–Ω—ã", baseAmount: 200, unit: "–≥", price: 80 }
                    }
                ],
                tip: "–î–∞–π—Ç–µ –ª–∞–∑–∞–Ω—å–µ –æ—Ç–¥–æ—Ö–Ω—É—Ç—å –ø–æ—Å–ª–µ –¥—É—Ö–æ–≤–∫–∏ 10-15 –º–∏–Ω—É—Ç - —Ç–∞–∫ –æ–Ω–∞ –ª—É—á—à–µ –Ω–∞—Ä–µ–∑–∞–µ—Ç—Å—è –∏ —Å–ª–æ–∏ –Ω–µ —Ä–∞—Å–ø–∞–¥–∞—é—Ç—Å—è."
            },
            
            "pesto": {
                name: "–ü–∞—Å—Ç–∞ —Å —Å–æ—É—Å–æ–º –ü–µ—Å—Ç–æ",
                cookTime: "15-20 –º–∏–Ω—É—Ç",
                difficulty: "–õ–µ–≥–∫–∞—è",
                baseIngredients: [
                    { id: "pasta", name: "–¢—Ä—ë—Ö—Ü–≤–µ—Ç–Ω–∞—è –ø–∞—Å—Ç–∞ –∏–ª–∏ —Ñ—É–∑–∏–ª–ª–∏", baseAmount: 100, unit: "–≥", price: 50 },
                    { id: "basil", name: "–ë–∞–∑–∏–ª–∏–∫ —Å–≤–µ–∂–∏–π (–ª–∏—Å—Ç—å—è –±–µ–∑ —Å—Ç–µ–±–ª–µ–π)", baseAmount: 50, unit: "–≥", price: 100 },
                    { id: "pineNuts", name: "–ö–µ–¥—Ä–æ–≤—ã–µ –æ—Ä–µ—à–∫–∏", baseAmount: 30, unit: "–≥", price: 120 },
                    { id: "parmesan", name: "–ü–∞—Ä–º–µ–∑–∞–Ω", baseAmount: 50, unit: "–≥", price: 100 }
                ],
                sauceIngredients: [
                    { id: "garlic", name: "–ß–µ—Å–Ω–æ–∫", baseAmount: 1, unit: "–∑—É–±—á–∏–∫", price: 5 },
                    { id: "oliveOil", name: "–û–ª–∏–≤–∫–æ–≤–æ–µ –º–∞—Å–ª–æ extra virgin", baseAmount: 100, unit: "–º–ª", price: 80 },
                    { id: "salt", name: "–ú–æ—Ä—Å–∫–∞—è —Å–æ–ª—å", baseAmount: 5, unit: "–≥", price: 2 }
                ],
                additionalIngredients: [
                    { id: "lemon", name: "–õ–∏–º–æ–Ω (—Å–æ–∫ –∏ —Ü–µ–¥—Ä–∞)", baseAmount: 0.5, unit: "—à—Ç.", price: 30 },
                    { id: "cherryTomato", name: "–ü–æ–º–∏–¥–æ—Ä—ã —á–µ—Ä—Ä–∏ –¥–ª—è –ø–æ–¥–∞—á–∏", baseAmount: 100, unit: "–≥", price: 80 }
                ],
                options: [
                    { 
                        id: "nutType", 
                        name: "–û—Ä–µ—Ö–∏ –¥–ª—è –ø–µ—Å—Ç–æ:", 
                        type: "radio", 
                        options: [
                            { value: "pine", label: "–ö–µ–¥—Ä–æ–≤—ã–µ (—Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ)", price: 120, displayName: "–∫–µ–¥—Ä–æ–≤—ã–µ –æ—Ä–µ—à–∫–∏" },
                            { value: "walnut", label: "–ì—Ä–µ—Ü–∫–∏–µ", price: 70, displayName: "–≥—Ä–µ—Ü–∫–∏–µ –æ—Ä–µ—Ö–∏" },
                            { value: "almond", label: "–ú–∏–Ω–¥–∞–ª—å", price: 90, displayName: "–º–∏–Ω–¥–∞–ª—å" }
                        ]
                    },
                    { 
                        id: "addSpinach", 
                        name: "–î–æ–±–∞–≤–∏—Ç—å —à–ø–∏–Ω–∞—Ç –≤ –ø–µ—Å—Ç–æ", 
                        type: "checkbox", 
                        price: 40,
                        additionalIngredient: { id: "spinach", name: "–®–ø–∏–Ω–∞—Ç —Å–≤–µ–∂–∏–π", baseAmount: 50, unit: "–≥", price: 40 }
                    },
                    { 
                        id: "addAvocado", 
                        name: "–î–æ–±–∞–≤–∏—Ç—å –∞–≤–æ–∫–∞–¥–æ –¥–ª—è –∫—Ä–µ–º–æ–æ–±—Ä–∞–∑–Ω–æ—Å—Ç–∏", 
                        type: "checkbox", 
                        price: 80,
                        additionalIngredient: { id: "avocado", name: "–ê–≤–æ–∫–∞–¥–æ", baseAmount: 1, unit: "—à—Ç.", price: 80 }
                    }
                ],
                tip: "–ù–∞—Å—Ç–æ—è—â–∏–π –ø–µ—Å—Ç–æ –≥–æ—Ç–æ–≤—è—Ç –≤ —Å—Ç—É–ø–∫–µ, –∞ –Ω–µ –≤ –±–ª–µ–Ω–¥–µ—Ä–µ - —ç—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—Å—Ç—É—Ä—É –∏ –∞—Ä–æ–º–∞—Ç –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤."
            },
            
            "seafood": {
                name: "–ü–∞—Å—Ç–∞ —Å –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–∞–º–∏",
                cookTime: "20-25 –º–∏–Ω—É—Ç",
                difficulty: "–°—Ä–µ–¥–Ω—è—è",
                baseIngredients: [
                    { id: "pasta", name: "–õ–∏–Ω–≥–≤–∏–Ω–∏ –∏–ª–∏ —Å–ø–∞–≥–µ—Ç—Ç–∏", baseAmount: 100, unit: "–≥", price: 45 },
                    { id: "shrimp", name: "–ö—Ä–µ–≤–µ—Ç–∫–∏ –æ—á–∏—â–µ–Ω–Ω—ã–µ (–∫—Ä—É–ø–Ω—ã–µ)", baseAmount: 150, unit: "–≥", price: 250 },
                    { id: "mussels", name: "–ú–∏–¥–∏–∏ –≤ —Ä–∞–∫–æ–≤–∏–Ω–∞—Ö", baseAmount: 150, unit: "–≥", price: 200 },
                    { id: "squid", name: "–ö–∞–ª—å–º–∞—Ä—ã (–∫–æ–ª—å—Ü–∞)", baseAmount: 100, unit: "–≥", price: 150 }
                ],
                sauceIngredients: [
                    { id: "garlic", name: "–ß–µ—Å–Ω–æ–∫", baseAmount: 3, unit: "–∑—É–±—á–∏–∫–∞", price: 5 },
                    { id: "tomato", name: "–ü–æ–º–∏–¥–æ—Ä—ã —á–µ—Ä—Ä–∏", baseAmount: 150, unit: "–≥", price: 80 },
                    { id: "whiteWine", name: "–ë–µ–ª–æ–µ –≤–∏–Ω–æ (—Å—É—Ö–æ–µ)", baseAmount: 100, unit: "–º–ª", price: 80 },
                    { id: "oliveOil", name: "–û–ª–∏–≤–∫–æ–≤–æ–µ –º–∞—Å–ª–æ", baseAmount: 30, unit: "–º–ª", price: 25 }
                ],
                additionalIngredients: [
                    { id: "parsley", name: "–ü–µ—Ç—Ä—É—à–∫–∞ —Å–≤–µ–∂–∞—è", baseAmount: 20, unit: "–≥", price: 20 },
                    { id: "lemon", name: "–õ–∏–º–æ–Ω", baseAmount: 0.5, unit: "—à—Ç.", price: 30 },
                    { id: "chili", name: "–ü–µ—Ä–µ—Ü —á–∏–ª–∏ (–ø–æ –∂–µ–ª–∞–Ω–∏—é)", baseAmount: 1, unit: "—à—Ç.", price: 10 }
                ],
                options: [
                    { 
                        id: "seafoodMix", 
                        name: "–ú–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã:", 
                        type: "radio", 
                        options: [
                            { value: "premium", label: "–ü—Ä–µ–º–∏—É–º (–∫—Ä–µ–≤–µ—Ç–∫–∏, –º–∏–¥–∏–∏, –∫–∞–ª—å–º–∞—Ä—ã)", price: 600, displayName: "–∫—Ä–µ–≤–µ—Ç–∫–∏, –º–∏–¥–∏–∏ –∏ –∫–∞–ª—å–º–∞—Ä—ã" },
                            { value: "standard", label: "–°—Ç–∞–Ω–¥–∞—Ä—Ç (–∫—Ä–µ–≤–µ—Ç–∫–∏ –∏ –º–∏–¥–∏–∏)", price: 450, displayName: "–∫—Ä–µ–≤–µ—Ç–∫–∏ –∏ –º–∏–¥–∏–∏" },
                            { value: "budget", label: "–ë—é–¥–∂–µ—Ç (–∫—Ä–µ–≤–µ—Ç–∫–∏)", price: 250, displayName: "–∫—Ä–µ–≤–µ—Ç–∫–∏" }
                        ]
                    },
                    { 
                        id: "sauceType", 
                        name: "–°–æ—É—Å:", 
                        type: "radio", 
                        options: [
                            { value: "tomato", label: "–¢–æ–º–∞—Ç–Ω—ã–π", price: 50, displayName: "—Ç–æ–º–∞—Ç–Ω—ã–π —Å–æ—É—Å" },
                            { value: "whiteWine", label: "–ù–∞ –±–µ–ª–æ–º –≤–∏–Ω–µ", price: 80, displayName: "—Å–æ—É—Å –Ω–∞ –±–µ–ª–æ–º –≤–∏–Ω–µ" },
                            { value: "cream", label: "–°–ª–∏–≤–æ—á–Ω—ã–π", price: 70, displayName: "—Å–ª–∏–≤–æ—á–Ω—ã–π —Å–æ—É—Å" }
                        ]
                    },
                    { 
                        id: "addScallops", 
                        name: "–î–æ–±–∞–≤–∏—Ç—å –≥—Ä–µ–±–µ—à–∫–∏", 
                        type: "checkbox", 
                        price: 200,
                        additionalIngredient: { id: "scallops", name: "–ì—Ä–µ–±–µ—à–∫–∏ –º–æ—Ä—Å–∫–∏–µ", baseAmount: 100, unit: "–≥", price: 200 }
                    }
                ],
                tip: "–ù–µ –ø–µ—Ä–µ–∂–∞—Ä–∏–≤–∞–π—Ç–µ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã! –ö—Ä–µ–≤–µ—Ç–∫–∏ –≥–æ—Ç–æ–≤—ã, –∫–æ–≥–¥–∞ —Å—Ç–∞–Ω—É—Ç —Ä–æ–∑–æ–≤—ã–º–∏ –∏ —Å–≤–µ—Ä–Ω—É—Ç—Å—è –≤ –±—É–∫–≤—É 'C'."
            }
        };

        // –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï
        let currentPastaType = "carbonara";
        let currentPortions = 4;
        let selectedOptions = {
            carbonara: { guancialeType: "guanciale", cheeseType: "pecorino", addCream: false },
            "cream-mushroom": { mushroomType: "champignon", addChicken: false, addSpinach: false },
            bolognese: { meatType: "beef", addMilk: true, addMushrooms: false },
            lasagna: { meatType: "beef", addSpinach: false, addMushrooms: false },
            pesto: { nutType: "pine", addSpinach: false, addAvocado: false },
            seafood: { seafoodMix: "premium", sauceType: "whiteWine", addScallops: false }
        };
        let boughtIngredients = JSON.parse(localStorage.getItem('pastaBoughtIngredients')) || {};

        // DOM –≠–õ–ï–ú–ï–ù–¢–´
        const portionSlider = document.getElementById('portion-slider');
        const portionValue = document.getElementById('portion-value');
        const pastaAmount = document.getElementById('pasta-amount');
        const cookTime = document.getElementById('cook-time');
        const costPerServing = document.getElementById('cost-per-serving');
        const selectedPastaName = document.getElementById('selected-pasta-name');
        const pastaTime = document.getElementById('pasta-time');
        const italianTip = document.getElementById('italian-tip');
        const currentSettingsDisplay = document.getElementById('current-settings-display');
        
        const costPasta = document.getElementById('cost-pasta');
        const costSauce = document.getElementById('cost-sauce');
        const costCheese = document.getElementById('cost-cheese');
        const costTotal = document.getElementById('cost-total');
        
        const mainIngredientsList = document.getElementById('main-ingredients');
        const sauceIngredientsList = document.getElementById('sauce-ingredients');
        const additionalCategory = document.getElementById('additional-category');
        const additionalIngredientsList = document.getElementById('additional-ingredients');
        const stepsList = document.getElementById('steps-list');
        const recipeOptions = document.getElementById('recipe-options');
        
        const boughtCount = document.getElementById('bought-count');
        const totalIngredients = document.getElementById('total-ingredients');
        const progressFill = document.getElementById('progress-fill');
        const progressPercent = document.getElementById('progress-percent');
        const resetListBtn = document.getElementById('reset-list');
        
        // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
        document.addEventListener('DOMContentLoaded', function() {
            initPastaTypeButtons();
            initPortionSlider();
            updateRecipe();
            updateProgress();
        });

        // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ö–ù–û–ü–û–ö –¢–ò–ü–ê –ü–ê–°–¢–´
        function initPastaTypeButtons() {
            document.querySelectorAll('.pasta-type-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.pasta-type-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentPastaType = this.getAttribute('data-type');
                    updateRecipe();
                    updateProgress();
                });
            });
        }

        // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –°–õ–ê–ô–î–ï–†–ê –ü–û–†–¶–ò–ô
        function initPortionSlider() {
            portionSlider.addEventListener('input', function() {
                currentPortions = parseInt(this.value);
                portionValue.textContent = currentPortions;
                const pastaGrams = currentPortions * 100;
                pastaAmount.textContent = `(${pastaGrams}–≥ –ø–∞—Å—Ç—ã)`;
                updateRecipe();
                updateProgress();
            });
        }

        // –û–ë–ù–û–í–õ–ï–ù–ò–ï –í–°–ï–ì–û –†–ï–¶–ï–ü–¢–ê
        function updateRecipe() {
            const recipe = pastaRecipes[currentPastaType];
            
            selectedPastaName.textContent = recipe.name;
            pastaTime.textContent = recipe.cookTime;
            cookTime.textContent = recipe.cookTime;
            italianTip.textContent = recipe.tip;
            
            updateCurrentSettingsDisplay(recipe);
            updateRecipeOptions(recipe);
            updateIngredients(recipe);
            updateSteps(recipe);
            updateCost(recipe);
        }

        // –û–ë–ù–û–í–õ–ï–ù–ò–ï –û–¢–û–ë–†–ê–ñ–ï–ù–ò–Ø –¢–ï–ö–£–©–ò–• –ù–ê–°–¢–†–û–ï–ö
        function updateCurrentSettingsDisplay(recipe) {
            let settingsText = "";
            
            recipe.options.forEach(option => {
                const selectedValue = selectedOptions[currentPastaType][option.id];
                
                if (option.type === 'radio') {
                    const selectedOption = option.options.find(opt => opt.value === selectedValue);
                    if (selectedOption) {
                        settingsText += `${option.name.replace(":", "")}: ${selectedOption.label} | `;
                    }
                } else if (option.type === 'checkbox') {
                    const isChecked = selectedOptions[currentPastaType][option.id];
                    settingsText += `${option.name.replace("–î–æ–±–∞–≤–∏—Ç—å ", "")}: ${isChecked ? "–î–∞" : "–ù–µ—Ç"} | `;
                }
            });
            
            // –£–±–∏—Ä–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
            if (settingsText.endsWith(" | ")) {
                settingsText = settingsText.slice(0, -3);
            }
            
            currentSettingsDisplay.textContent = settingsText || "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ –≤—ã–±—Ä–∞–Ω—ã";
        }

        // –û–ë–ù–û–í–õ–ï–ù–ò–ï –û–ü–¶–ò–ô –†–ï–¶–ï–ü–¢–ê
        function updateRecipeOptions(recipe) {
            recipeOptions.innerHTML = '';
            
            const title = document.createElement('h3');
            title.innerHTML = '<i class="fas fa-cogs"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ—Ü–µ–ø—Ç–∞';
            recipeOptions.appendChild(title);
            
            recipe.options.forEach(option => {
                const container = document.createElement('div');
                container.className = 'options-container';
                
                const optionTitle = document.createElement('div');
                optionTitle.style.fontWeight = 'bold';
                optionTitle.style.marginBottom = '10px';
                optionTitle.textContent = option.name;
                container.appendChild(optionTitle);
                
                if (option.type === 'radio') {
                    option.options.forEach(opt => {
                        const row = document.createElement('div');
                        row.className = 'option-row';
                        
                        const input = document.createElement('input');
                        input.type = 'radio';
                        input.id = `${currentPastaType}-${option.id}-${opt.value}`;
                        input.name = `${currentPastaType}-${option.id}`;
                        input.value = opt.value;
                        
                        if (selectedOptions[currentPastaType][option.id] === opt.value) {
                            input.checked = true;
                        }
                        
                        input.addEventListener('change', function() {
                            selectedOptions[currentPastaType][option.id] = this.value;
                            updateRecipe();
                        });
                        
                        const label = document.createElement('div');
                        label.className = 'option-label';
                        
                        const nameSpan = document.createElement('span');
                        nameSpan.className = 'option-name';
                        nameSpan.textContent = opt.label;
                        
                        const priceSpan = document.createElement('span');
                        priceSpan.className = 'option-price';
                        priceSpan.textContent = `~${opt.price} —Ä—É–±`;
                        
                        label.appendChild(nameSpan);
                        label.appendChild(priceSpan);
                        
                        row.appendChild(input);
                        row.appendChild(label);
                        container.appendChild(row);
                    });
                } else if (option.type === 'checkbox') {
                    const row = document.createElement('div');
                    row.className = 'option-row';
                    
                    const input = document.createElement('input');
                    input.type = 'checkbox';
                    input.id = `${currentPastaType}-${option.id}`;
                    input.name = `${currentPastaType}-${option.id}`;
                    
                    if (selectedOptions[currentPastaType][option.id]) {
                        input.checked = true;
                    }
                    
                    input.addEventListener('change', function() {
                        selectedOptions[currentPastaType][option.id] = this.checked;
                        updateRecipe();
                    });
                    
                    const label = document.createElement('div');
                    label.className = 'option-label';
                    
                    const nameSpan = document.createElement('span');
                    nameSpan.className = 'option-name';
                    nameSpan.textContent = option.name.replace("–î–æ–±–∞–≤–∏—Ç—å ", "");
                    
                    const priceSpan = document.createElement('span');
                    priceSpan.className = 'option-price';
                    priceSpan.textContent = `+${option.price} —Ä—É–±`;
                    
                    label.appendChild(nameSpan);
                    label.appendChild(priceSpan);
                    
                    row.appendChild(input);
                    row.appendChild(label);
                    container.appendChild(row);
                }
                
                recipeOptions.appendChild(container);
            });
        }

        // –û–ë–ù–û–í–õ–ï–ù–ò–ï –ò–ù–ì–†–ï–î–ò–ï–ù–¢–û–í
        function updateIngredients(recipe) {
            mainIngredientsList.innerHTML = '';
            sauceIngredientsList.innerHTML = '';
            additionalIngredientsList.innerHTML = '';
            
            const allIngredients = [...recipe.baseIngredients, ...recipe.sauceIngredients, ...recipe.additionalIngredients];
            
            // –î–æ–±–∞–≤–ª—è–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –æ–ø—Ü–∏–π
            recipe.options.forEach(option => {
                if (option.type === 'checkbox' && selectedOptions[currentPastaType][option.id] && option.additionalIngredient) {
                    allIngredients.push(option.additionalIngredient);
                }
            });
            
            // –†–∞–∑–¥–µ–ª—è–µ–º –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
            const baseIngredients = recipe.baseIngredients;
            const sauceIngredients = recipe.sauceIngredients;
            const additionalIngredients = [...recipe.additionalIngredients];
            
            // –î–æ–±–∞–≤–ª—è–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –∏–∑ —á–µ–∫–±–æ–∫—Å–æ–≤
            recipe.options.forEach(option => {
                if (option.type === 'checkbox' && selectedOptions[currentPastaType][option.id] && option.additionalIngredient) {
                    additionalIngredients.push(option.additionalIngredient);
                }
            });
            
            renderIngredientList(mainIngredientsList, baseIngredients);
            renderIngredientList(sauceIngredientsList, sauceIngredients);
            
            if (additionalIngredients.length > 0) {
                additionalCategory.style.display = 'block';
                renderIngredientList(additionalIngredientsList, additionalIngredients);
            } else {
                additionalCategory.style.display = 'none';
            }
            
            const total = baseIngredients.length + sauceIngredients.length + additionalIngredients.length;
            totalIngredients.textContent = total;
        }

        // –†–ï–ù–î–ï–†–ò–ù–ì –°–ü–ò–°–ö–ê –ò–ù–ì–†–ï–î–ò–ï–ù–¢–û–í
        function renderIngredientList(container, ingredientList) {
            ingredientList.forEach(ingredient => {
                const calculatedAmount = ingredient.baseAmount * currentPortions;
                const displayAmount = formatAmount(calculatedAmount, ingredient.unit);
                const price = (ingredient.price / ingredient.baseAmount) * calculatedAmount;
                const ingredientId = `${currentPastaType}-${ingredient.id}`;
                const isChecked = boughtIngredients[ingredientId] || false;
                
                const li = document.createElement('li');
                li.className = isChecked ? 'completed' : '';
                li.dataset.id = ingredientId;
                
                li.innerHTML = `
                    <input type="checkbox" class="ingredient-checkbox" id="${ingredientId}" ${isChecked ? 'checked' : ''}>
                    <span class="ingredient-amount">${displayAmount}</span>
                    <span class="ingredient-name">${ingredient.name}</span>
                    <span class="ingredient-price">~${Math.round(price)} —Ä—É–±</span>
                `;
                
                const checkbox = li.querySelector('.ingredient-checkbox');
                checkbox.addEventListener('change', function() {
                    boughtIngredients[ingredientId] = this.checked;
                    localStorage.setItem('pastaBoughtIngredients', JSON.stringify(boughtIngredients));
                    li.classList.toggle('completed', this.checked);
                    updateProgress();
                });
                
                container.appendChild(li);
            });
        }

        // –§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï –ö–û–õ–ò–ß–ï–°–¢–í–ê
        function formatAmount(amount, unit) {
            if (unit === '—à—Ç.' || unit === '–∑—É–±—á–∏–∫' || unit === '—à—Ç') {
                return amount % 1 === 0 ? `${amount} ${unit}` : `${amount.toFixed(1)} ${unit}`;
            } else if (unit === '—á.–ª.' || unit === '—Å—Ç.–ª.') {
                return `${amount} ${unit}`;
            } else {
                return `${Math.round(amount)} ${unit}`;
            }
        }

        // –û–ë–ù–û–í–õ–ï–ù–ò–ï –®–ê–ì–û–í –ü–†–ò–ì–û–¢–û–í–õ–ï–ù–ò–Ø
        function updateSteps(recipe) {
            stepsList.innerHTML = '';
            
            // –°–æ–∑–¥–∞–µ–º —à–∞–≥–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –ø–∞—Å—Ç—ã
            const steps = generateStepsForPastaType(recipe);
            
            steps.forEach((step, index) => {
                const li = document.createElement('li');
                li.innerHTML = `
                    <div class="step-number">${index + 1}</div>
                    <div class="step-content">
                        ${step.text}
                        ${step.details ? `<div class="step-detail">${step.details}</div>` : ''}
                        ${step.cuttingInstruction ? `<div class="cutting-instruction">${step.cuttingInstruction}</div>` : ''}
                        ${step.timer > 0 ? `<span class="step-timer" data-time="${step.timer}"><i class="fas fa-hourglass-half"></i> –¢–∞–π–º–µ—Ä: ${step.timer} –º–∏–Ω</span>` : ''}
                    </div>
                `;
                
                if (step.timer > 0) {
                    const timerBtn = li.querySelector('.step-timer');
                    timerBtn.addEventListener('click', function() {
                        const minutes = parseInt(this.getAttribute('data-time'));
                        openTimerModal(`–®–∞–≥ ${index + 1}: ${recipe.name}`, minutes);
                    });
                }
                
                stepsList.appendChild(li);
            });
        }

        // –ì–ï–ù–ï–†–ê–¶–ò–Ø –®–ê–ì–û–í –î–õ–Ø –ö–ê–ñ–î–û–ì–û –¢–ò–ü–ê –ü–ê–°–¢–´
        function generateStepsForPastaType(recipe) {
            const steps = [];
            const type = currentPastaType;
            
            // –ü–æ–ª—É—á–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            const options = selectedOptions[type];
            const recipeOptionsData = pastaRecipes[type].options;
            
            if (type === "carbonara") {
                const meatType = recipeOptionsData.find(o => o.id === "guancialeType");
                const selectedMeat = meatType.options.find(o => o.value === options.guancialeType);
                const meatName = selectedMeat ? selectedMeat.displayName || selectedMeat.label : "–±–µ–∫–æ–Ω";
                const meatAmount = currentPortions * 80;
                const pastaAmount = currentPortions * 100;
                const eggYolks = currentPortions;
                const cheeseAmount = currentPortions * 40;
                const cheeseType = recipeOptionsData.find(o => o.id === "cheeseType");
                const selectedCheese = cheeseType.options.find(o => o.value === options.cheeseType);
                const cheeseName = selectedCheese ? selectedCheese.label : "–ü–µ–∫–æ—Ä–∏–Ω–æ –†–æ–º–∞–Ω–æ";
                
                steps.push({
                    text: `–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã: –Ω–∞—Ä–µ–∂—å—Ç–µ <span class="highlight-quantity">${formatAmount(meatAmount, '–≥')}</span> ${meatName}, –Ω–∞—Ç—Ä–∏—Ç–µ <span class="highlight-quantity">${formatAmount(cheeseAmount, '–≥')}</span> ${cheeseName}, –æ—Ç–¥–µ–ª–∏—Ç–µ –∂–µ–ª—Ç–∫–∏ –æ—Ç –±–µ–ª–∫–æ–≤ (–Ω—É–∂–Ω–æ <span class="highlight-quantity">${eggYolks}</span> –∂–µ–ª—Ç–∫–æ–≤).`,
                    cuttingInstruction: `<strong>–î–µ—Ç–∞–ª—å–Ω–∞—è –Ω–∞—Ä–µ–∑–∫–∞:</strong><br>‚Ä¢ ${meatName}: –Ω–∞—Ä–µ–∂—å—Ç–µ –∫—É–±–∏–∫–∞–º–∏ 1√ó1 —Å–º –∏–ª–∏ —Ç–æ–Ω–∫–∏–º–∏ –ø–æ–ª–æ—Å–∫–∞–º–∏ –¥–ª–∏–Ω–æ–π 3-4 —Å–º<br>‚Ä¢ ${cheeseName}: –Ω–∞—Ç—Ä–∏—Ç–µ –Ω–∞ –º–µ–ª–∫–æ–π —Ç—ë—Ä–∫–µ`,
                    timer: 0
                });
                
                steps.push({
                    text: `–í –≥–ª—É–±–æ–∫–æ–π —Å–∫–æ–≤–æ—Ä–æ–¥–µ –±–µ–∑ –º–∞—Å–ª–∞ –æ–±–∂–∞—Ä—å—Ç–µ ${meatName} –Ω–∞ —Å—Ä–µ–¥–Ω–µ–º –æ–≥–Ω–µ –¥–æ —Ö—Ä—É—Å—Ç—è—â–µ–π –∫–æ—Ä–æ—á–∫–∏ –∏ –≤—ã–¥–µ–ª–µ–Ω–∏—è –∂–∏—Ä–∞. –ü–µ—Ä–µ–ª–æ–∂–∏—Ç–µ –Ω–∞ –±—É–º–∞–∂–Ω–æ–µ –ø–æ–ª–æ—Ç–µ–Ω—Ü–µ.`,
                    details: `–ñ–∏—Ä –∏–∑ –º—è—Å–∞ –Ω–µ –≤—ã–ª–∏–≤–∞–π—Ç–µ - –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è —Å–æ—É—Å–∞.`,
                    timer: 8
                });
                
                steps.push({
                    text: `–í –º–∏—Å–∫–µ –≤–∑–±–µ–π—Ç–µ –∂–µ–ª—Ç–∫–∏ —Å <span class="highlight-quantity">${formatAmount(cheeseAmount - 20, '–≥')}</span> ${cheeseName} –∏ <span class="highlight-quantity">${currentPortions * 2} —á.–ª.</span> —Å–≤–µ–∂–µ–º–æ–ª–æ—Ç–æ–≥–æ —á–µ—Ä–Ω–æ–≥–æ –ø–µ—Ä—Ü–∞.`,
                    details: `–û—Å—Ç–∞–≤—å—Ç–µ –Ω–µ–º–Ω–æ–≥–æ —Å—ã—Ä–∞ –¥–ª—è –ø–æ–¥–∞—á–∏. –°–º–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–¥–Ω–æ—Ä–æ–¥–Ω–æ–π.`,
                    timer: 0
                });
                
                if (options.addCream) {
                    steps.push({
                        text: `–î–æ–±–∞–≤—å—Ç–µ <span class="highlight-quantity">${currentPortions * 50} –º–ª</span> —Å–ª–∏–≤–æ–∫ –∫ —è–∏—á–Ω–æ-—Å—ã—Ä–Ω–æ–π —Å–º–µ—Å–∏ –∏ —Ç—â–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–º–µ—à–∞–π—Ç–µ.`,
                        details: `–≠—Ç–æ –Ω–µ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–±, –Ω–æ –¥–µ–ª–∞–µ—Ç —Å–æ—É—Å –±–æ–ª–µ–µ –∫—Ä–µ–º–æ–≤—ã–º.`,
                        timer: 0
                    });
                }
                
                steps.push({
                    text: `–í –±–æ–ª—å—à–æ–π –∫–∞—Å—Ç—Ä—é–ª–µ –≤—Å–∫–∏–ø—è—Ç–∏—Ç–µ <span class="highlight-quantity">${Math.max(currentPortions, 2)} –ª</span> –≤–æ–¥—ã, –¥–æ–±–∞–≤—å—Ç–µ <span class="highlight-quantity">${currentPortions * 10} –≥</span> —Å–æ–ª–∏. –î–æ–±–∞–≤—å—Ç–µ <span class="highlight-quantity">${formatAmount(pastaAmount, '–≥')}</span> —Å–ø–∞–≥–µ—Ç—Ç–∏ –∏ –≥–æ—Ç–æ–≤—å—Ç–µ –Ω–∞ 1 –º–∏–Ω—É—Ç—É –º–µ–Ω—å—à–µ, —á–µ–º —É–∫–∞–∑–∞–Ω–æ –Ω–∞ —É–ø–∞–∫–æ–≤–∫–µ.`,
                    timer: 9
                });
                
                steps.push({
                    text: `–û—Ç–ª–æ–∂–∏—Ç–µ <span class="highlight-quantity">${currentPortions * 50} –º–ª</span> –≤–æ–¥—ã –æ—Ç –ø–∞—Å—Ç—ã. –°–ª–µ–π—Ç–µ –ø–∞—Å—Ç—É –∏ —Å—Ä–∞–∑—É –¥–æ–±–∞–≤—å—Ç–µ –≤ —Å–∫–æ–≤–æ—Ä–æ–¥—É —Å –æ—Å—Ç–∞–≤—à–∏–º—Å—è –∂–∏—Ä–æ–º –æ—Ç –º—è—Å–∞.`,
                    details: `–ë—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–º–µ—à–∞–π—Ç–µ, —á—Ç–æ–±—ã –ø–∞—Å—Ç–∞ –ø–æ–∫—Ä—ã–ª–∞—Å—å –∂–∏—Ä–æ–º.`,
                    timer: 1
                });
                
                steps.push({
                    text: `–°–Ω–∏–º–∏—Ç–µ —Å–∫–æ–≤–æ—Ä–æ–¥—É —Å –æ–≥–Ω—è. –î–æ–±–∞–≤—å—Ç–µ —è–∏—á–Ω–æ-—Å—ã—Ä–Ω—É—é —Å–º–µ—Å—å –∏ –æ–±–∂–∞—Ä–µ–Ω–Ω–æ–µ –º—è—Å–æ, –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ –ø–µ—Ä–µ–º–µ—à–∏–≤–∞—è. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤—å—Ç–µ –Ω–µ–º–Ω–æ–≥–æ –≤–æ–¥—ã –æ—Ç –ø–∞—Å—Ç—ã –¥–ª—è –∫—Ä–µ–º–æ–æ–±—Ä–∞–∑–Ω–æ–π –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ü–∏–∏.`,
                    details: `–í–∞–∂–Ω–æ —Å–Ω—è—Ç—å —Å –æ–≥–Ω—è, —á—Ç–æ–±—ã —è–π—Ü–∞ –Ω–µ –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª–∏—Å—å –≤ –æ–º–ª–µ—Ç.`,
                    timer: 0
                });
                
                steps.push({
                    text: `–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø–æ–¥–∞–≤–∞–π—Ç–µ, –ø–æ—Å—ã–ø–∞–≤ –æ—Å—Ç–∞–≤—à–∏–º—Å—è —Å—ã—Ä–æ–º –∏ —á–µ—Ä–Ω—ã–º –ø–µ—Ä—Ü–µ–º.`,
                    details: `–ü–∞—Å—Ç—É –∫–∞—Ä–±–æ–Ω–∞—Ä—É –Ω—É–∂–Ω–æ –µ—Å—Ç—å —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è.`,
                    timer: 0
                });
                
            } else if (type === "cream-mushroom") {
                const mushroomType = recipeOptionsData.find(o => o.id === "mushroomType");
                const selectedMushroom = mushroomType.options.find(o => o.value === options.mushroomType);
                const mushroomName = selectedMushroom ? selectedMushroom.displayName : "—à–∞–º–ø–∏–Ω—å–æ–Ω—ã";
                const mushroomAmount = currentPortions * 200;
                const pastaAmount = currentPortions * 100;
                const onionAmount = currentPortions;
                const creamAmount = currentPortions * 200;
                const chickenAmount = options.addChicken ? currentPortions * 150 : 0;
                
                steps.push({
                    text: `–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã: –æ—á–∏—Å—Ç–∏—Ç–µ –∏ –Ω–∞—Ä–µ–∂—å—Ç–µ <span class="highlight-quantity">${formatAmount(onionAmount, '—à—Ç')}</span> –ª—É–∫–∞, <span class="highlight-quantity">${currentPortions * 2} –∑—É–±—á–∏–∫–∞</span> —á–µ—Å–Ω–æ–∫–∞, <span class="highlight-quantity">${formatAmount(mushroomAmount, '–≥')}</span> ${mushroomName}.`,
                    cuttingInstruction: `<strong>–î–µ—Ç–∞–ª—å–Ω–∞—è –Ω–∞—Ä–µ–∑–∫–∞:</strong><br>‚Ä¢ –õ—É–∫: –º–µ–ª–∫–∏–π –∫—É–±–∏–∫ 0.5√ó0.5 —Å–º<br>‚Ä¢ –ß–µ—Å–Ω–æ–∫: –∏–∑–º–µ–ª—å—á–∏—Ç—å –Ω–æ–∂–æ–º –∏–ª–∏ —á–µ—Ä–µ–∑ –ø—Ä–µ—Å—Å<br>‚Ä¢ ${mushroomName}: –ø–ª–∞—Å—Ç–∏–Ω–∫–∞–º–∏ —Ç–æ–ª—â–∏–Ω–æ–π 0.5 —Å–º<br>${options.addChicken ? `‚Ä¢ –ö—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ: –∫—É–±–∏–∫–∞–º–∏ 1.5√ó1.5 —Å–º` : ''}${options.addSpinach ? `<br>‚Ä¢ –®–ø–∏–Ω–∞—Ç: –∫—Ä—É–ø–Ω–æ –ø–æ—Ä–≤–∞—Ç—å —Ä—É–∫–∞–º–∏` : ''}`,
                    timer: 0
                });
                
                if (options.addChicken) {
                    steps.push({
                        text: `–û–±–∂–∞—Ä—å—Ç–µ –∫—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ –Ω–∞ —Å—Ä–µ–¥–Ω–µ–º –æ–≥–Ω–µ –¥–æ –∑–æ–ª–æ—Ç–∏—Å—Ç–æ–π –∫–æ—Ä–æ—á–∫–∏ —Å–æ –≤—Å–µ—Ö —Å—Ç–æ—Ä–æ–Ω. –ü–µ—Ä–µ–ª–æ–∂–∏—Ç–µ –≤ —Ç–∞—Ä–µ–ª–∫—É.`,
                        timer: 7
                    });
                }
                
                steps.push({
                    text: `–í —Ç–æ–π –∂–µ —Å–∫–æ–≤–æ—Ä–æ–¥–µ —Ä–∞—Å—Ç–æ–ø–∏—Ç–µ <span class="highlight-quantity">${currentPortions * 30} –≥</span> —Å–ª–∏–≤–æ—á–Ω–æ–≥–æ –º–∞—Å–ª–∞. –û–±–∂–∞—Ä—å—Ç–µ –ª—É–∫ –¥–æ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏.`,
                    timer: 4
                });
                
                steps.push({
                    text: `–î–æ–±–∞–≤—å—Ç–µ ${mushroomName} –∏ –æ–±–∂–∞—Ä–∏–≤–∞–π—Ç–µ –¥–æ –∑–æ–ª–æ—Ç–∏—Å—Ç–æ–≥–æ —Ü–≤–µ—Ç–∞ –∏ –∏—Å–ø–∞—Ä–µ–Ω–∏—è –∂–∏–¥–∫–æ—Å—Ç–∏. –í –∫–æ–Ω—Ü–µ –¥–æ–±–∞–≤—å—Ç–µ —á–µ—Å–Ω–æ–∫.`,
                    details: `–ì—Ä–∏–±—ã –Ω—É–∂–Ω–æ –∂–∞—Ä–∏—Ç—å –Ω–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–∏–ª—å–Ω–æ–º –æ–≥–Ω–µ, —á—Ç–æ–±—ã –æ–Ω–∏ –ø–æ–¥—Ä—É–º—è–Ω–∏–ª–∏—Å—å.`,
                    timer: 8
                });
                
                if (options.addChicken) {
                    steps.push({
                        text: `–í–µ—Ä–Ω–∏—Ç–µ –∫—É—Ä–∏—Ü—É –≤ —Å–∫–æ–≤–æ—Ä–æ–¥—É.`,
                        timer: 1
                    });
                }
                
                steps.push({
                    text: `–í–ª–µ–π—Ç–µ <span class="highlight-quantity">${formatAmount(creamAmount, '–º–ª')}</span> —Å–ª–∏–≤–æ–∫. –î–æ–±–∞–≤—å—Ç–µ —Å–æ–ª—å –∏ –ø–µ—Ä–µ—Ü –ø–æ –≤–∫—É—Å—É. –¢—É—à–∏—Ç–µ –Ω–∞ –º–µ–¥–ª–µ–Ω–Ω–æ–º –æ–≥–Ω–µ.`,
                    details: `–ù–µ –¥–æ–≤–æ–¥–∏—Ç–µ —Å–ª–∏–≤–∫–∏ –¥–æ –∫–∏–ø–µ–Ω–∏—è, –∏–Ω–∞—á–µ –º–æ–≥—É—Ç —Å–≤–µ—Ä–Ω—É—Ç—å—Å—è.`,
                    timer: 5
                });
                
                if (options.addSpinach) {
                    steps.push({
                        text: `–î–æ–±–∞–≤—å—Ç–µ <span class="highlight-quantity">${currentPortions * 100} –≥</span> —à–ø–∏–Ω–∞—Ç–∞ –∏ –ø–µ—Ä–µ–º–µ—à–∞–π—Ç–µ –¥–æ —É–≤—è–¥–∞–Ω–∏—è.`,
                        timer: 2
                    });
                }
                
                steps.push({
                    text: `–¢–µ–º –≤—Ä–µ–º–µ–Ω–µ–º –æ—Ç–≤–∞—Ä–∏—Ç–µ <span class="highlight-quantity">${formatAmount(pastaAmount, '–≥')}</span> –ø–∞—Å—Ç—ã –≤ –ø–æ–¥—Å–æ–ª–µ–Ω–Ω–æ–π –≤–æ–¥–µ —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –Ω–∞ —É–ø–∞–∫–æ–≤–∫–µ.`,
                    timer: 12
                });
                
                steps.push({
                    text: `–°–ª–µ–π—Ç–µ –≤–æ–¥—É, —Å–º–µ—à–∞–π—Ç–µ –ø–∞—Å—Ç—É —Å —Å–æ—É—Å–æ–º. –ü–æ–¥–∞–≤–∞–π—Ç–µ, –ø–æ—Å—ã–ø–∞–≤ –ø–µ—Ç—Ä—É—à–∫–æ–π –∏ –ø–∞—Ä–º–µ–∑–∞–Ω–æ–º.`,
                    timer: 0
                });
                
            } else if (type === "bolognese") {
                const meatType = recipeOptionsData.find(o => o.id === "meatType");
                const selectedMeat = meatType.options.find(o => o.value === options.meatType);
                const meatName = selectedMeat ? selectedMeat.displayName : "–≥–æ–≤—è–∂–∏–π —Ñ–∞—Ä—à";
                const meatAmount = currentPortions * 150;
                const pastaAmount = currentPortions * 100;
                const soffrittoAmount = currentPortions; // –ª—É–∫, –º–æ—Ä–∫–æ–≤—å, —Å–µ–ª—å–¥–µ—Ä–µ–π
                
                steps.push({
                    text: `–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ —Å–æ—Ñ—Ä–∏—Ç–æ: –æ—á–∏—Å—Ç–∏—Ç–µ –∏ –º–µ–ª–∫–æ –Ω–∞—Ä–µ–∂—å—Ç–µ <span class="highlight-quantity">${formatAmount(soffrittoAmount, '—à—Ç')}</span> –ª—É–∫–∞, <span class="highlight-quantity">${formatAmount(soffrittoAmount, '—à—Ç')}</span> –º–æ—Ä–∫–æ–≤–∏, <span class="highlight-quantity">${formatAmount(soffrittoAmount, '—à—Ç')}</span> —Å—Ç–µ–±–ª—è —Å–µ–ª—å–¥–µ—Ä–µ—è.`,
                    cuttingInstruction: `<strong>–î–µ—Ç–∞–ª—å–Ω–∞—è –Ω–∞—Ä–µ–∑–∫–∞:</strong><br>‚Ä¢ –õ—É–∫: –æ—á–µ–Ω—å –º–µ–ª–∫–∏–π –∫—É–±–∏–∫ 0.3√ó0.3 —Å–º<br>‚Ä¢ –ú–æ—Ä–∫–æ–≤—å: –º–µ–ª–∫–∏–π –∫—É–±–∏–∫ –∏–ª–∏ –Ω–∞—Ç–µ—Ä–µ—Ç—å –Ω–∞ —Ç—ë—Ä–∫–µ<br>‚Ä¢ –°–µ–ª—å–¥–µ—Ä–µ–π: —Ç–æ–Ω–∫–∏–µ –ø–æ–ª—É–∫–æ–ª—å—Ü–∞<br>‚Ä¢ –ß–µ—Å–Ω–æ–∫: –∏–∑–º–µ–ª—å—á–∏—Ç—å<br>${options.addMushrooms ? `<br>‚Ä¢ –ì—Ä–∏–±—ã: –ø–ª–∞—Å—Ç–∏–Ω–∫–∞–º–∏ –∏–ª–∏ —á–µ—Ç–≤–µ—Ä—Ç–∏–Ω–∫–∞–º–∏` : ''}`,
                    timer: 0
                });
                
                steps.push({
                    text: `–í —Ç–æ–ª—Å—Ç–æ—Å—Ç–µ–Ω–Ω–æ–π –∫–∞—Å—Ç—Ä—é–ª–µ –∏–ª–∏ —Å–æ—Ç–µ–π–Ω–∏–∫–µ —Ä–∞–∑–æ–≥—Ä–µ–π—Ç–µ –æ–ª–∏–≤–∫–æ–≤–æ–µ –º–∞—Å–ª–æ. –û–±–∂–∞—Ä—å—Ç–µ —Å–æ—Ñ—Ä–∏—Ç–æ –Ω–∞ –º–µ–¥–ª–µ–Ω–Ω–æ–º –æ–≥–Ω–µ –¥–æ –º—è–≥–∫–æ—Å—Ç–∏.`,
                    timer: 10
                });
                
                steps.push({
                    text: `–î–æ–±–∞–≤—å—Ç–µ <span class="highlight-quantity">${formatAmount(meatAmount, '–≥')}</span> ${meatName}, —Ä–∞–∑–±–∏–≤–∞—è –∫–æ–º–∫–∏ –ª–æ–ø–∞—Ç–∫–æ–π. –û–±–∂–∞—Ä–∏–≤–∞–π—Ç–µ –¥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–≤–µ—Ç–∞.`,
                    timer: 10
                });
                
                if (options.addMushrooms) {
                    steps.push({
                        text: `–î–æ–±–∞–≤—å—Ç–µ <span class="highlight-quantity">${currentPortions * 150} –≥</span> –Ω–∞—Ä–µ–∑–∞–Ω–Ω—ã—Ö –≥—Ä–∏–±–æ–≤ –∏ –æ–±–∂–∞—Ä–∏–≤–∞–π—Ç–µ 5 –º–∏–Ω—É—Ç.`,
                        timer: 5
                    });
                }
                
                steps.push({
                    text: `–í–ª–µ–π—Ç–µ <span class="highlight-quantity">${currentPortions * 100} –º–ª</span> –∫—Ä–∞—Å–Ω–æ–≥–æ –≤–∏–Ω–∞. –£–≤–µ–ª–∏—á—å—Ç–µ –æ–≥–æ–Ω—å –∏ –≤—ã–ø–∞—Ä–∏—Ç–µ –∞–ª–∫–æ–≥–æ–ª—å.`,
                    timer: 4
                });
                
                if (options.addMilk) {
                    steps.push({
                        text: `–î–æ–±–∞–≤—å—Ç–µ <span class="highlight-quantity">${currentPortions * 100} –º–ª</span> –º–æ–ª–æ–∫–∞ –∏ —Ç—É—à–∏—Ç–µ –¥–æ –ø–æ–ª–Ω–æ–≥–æ –≤–ø–∏—Ç—ã–≤–∞–Ω–∏—è.`,
                        timer: 5
                    });
                }
                
                steps.push({
                    text: `–î–æ–±–∞–≤—å—Ç–µ <span class="highlight-quantity">${currentPortions * 200} –≥</span> –ø–æ–º–∏–¥–æ—Ä–æ–≤, —Å–æ–ª—å, –ø–µ—Ä–µ—Ü –∏ —Ç—Ä–∞–≤—ã. –£–º–µ–Ω—å—à–∏—Ç–µ –æ–≥–æ–Ω—å –¥–æ –º–∏–Ω–∏–º—É–º–∞, –Ω–∞–∫—Ä–æ–π—Ç–µ –∫—Ä—ã—à–∫–æ–π.`,
                    timer: 0
                });
                
                steps.push({
                    text: `–¢—É—à–∏—Ç–µ —Å–æ—É—Å –º–∏–Ω–∏–º—É–º 30 –º–∏–Ω—É—Ç (–≤ –∏–¥–µ–∞–ª–µ 1.5-2 —á–∞—Å–∞), –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø–æ–º–µ—à–∏–≤–∞—è.`,
                    timer: 30
                });
                
                steps.push({
                    text: `–ó–∞ 15 –º–∏–Ω—É—Ç –¥–æ –ø–æ–¥–∞—á–∏ –æ—Ç–≤–∞—Ä–∏—Ç–µ <span class="highlight-quantity">${formatAmount(pastaAmount, '–≥')}</span> –ø–∞—Å—Ç—ã –≤ –ø–æ–¥—Å–æ–ª–µ–Ω–Ω–æ–π –≤–æ–¥–µ. –°–º–µ—à–∞–π—Ç–µ —Å —Å–æ—É—Å–æ–º, –ø–æ–¥–∞–≤–∞–π—Ç–µ —Å –ø–∞—Ä–º–µ–∑–∞–Ω–æ–º.`,
                    timer: 15
                });
                
            } else if (type === "lasagna") {
                const meatType = recipeOptionsData.find(o => o.id === "meatType");
                const selectedMeat = meatType.options.find(o => o.value === options.meatType);
                const meatName = selectedMeat ? selectedMeat.displayName : "–≥–æ–≤—è–∂–∏–π —Ñ–∞—Ä—à";
                const meatAmount = currentPortions * 300;
                const sheetsAmount = Math.ceil(currentPortions * 6 / 4) * 4; // –û–∫—Ä—É–≥–ª—è–µ–º –¥–æ –∫—Ä–∞—Ç–Ω–æ–≥–æ 4
                
                steps.push({
                    text: `–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –¥–ª—è –±–æ–ª–æ–Ω—å–µ–∑–µ –∏ –±–µ—à–∞–º–µ–ª—å.`,
                    cuttingInstruction: `<strong>–î–µ—Ç–∞–ª—å–Ω–∞—è –Ω–∞—Ä–µ–∑–∫–∞:</strong><br>‚Ä¢ –õ—É–∫: –º–µ–ª–∫–∏–π –∫—É–±–∏–∫<br>‚Ä¢ –ú–æ—Ä–∫–æ–≤—å: –Ω–∞—Ç–µ—Ä–µ—Ç—å –Ω–∞ —Ç—ë—Ä–∫–µ<br>‚Ä¢ –ß–µ—Å–Ω–æ–∫: –∏–∑–º–µ–ª—å—á–∏—Ç—å<br>‚Ä¢ –ì—Ä–∏–±—ã (–µ—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ): –ø–ª–∞—Å—Ç–∏–Ω–∫–∞–º–∏<br>‚Ä¢ –®–ø–∏–Ω–∞—Ç (–µ—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ): –∫—Ä—É–ø–Ω–æ –ø–æ—Ä–≤–∞—Ç—å`,
                    timer: 0
                });
                
                steps.push({
                    text: `–ü—Ä–∏–≥–æ—Ç–æ–≤—å—Ç–µ —Å–æ—É—Å –±–æ–ª–æ–Ω—å–µ–∑–µ: –æ–±–∂–∞—Ä—å—Ç–µ –ª—É–∫, –º–æ—Ä–∫–æ–≤—å –∏ —á–µ—Å–Ω–æ–∫, –¥–æ–±–∞–≤—å—Ç–µ <span class="highlight-quantity">${formatAmount(meatAmount, '–≥')}</span> ${meatName}, –∑–∞—Ç–µ–º –ø–æ–º–∏–¥–æ—Ä—ã. –¢—É—à–∏—Ç–µ 30 –º–∏–Ω—É—Ç.`,
                    details: options.addMushrooms ? `–î–æ–±–∞–≤—å—Ç–µ –≥—Ä–∏–±—ã –∑–∞ 10 –º–∏–Ω—É—Ç –¥–æ –∫–æ–Ω—Ü–∞.` : '',
                    timer: 30
                });
                
                if (options.addSpinach) {
                    steps.push({
                        text: `–î–æ–±–∞–≤—å—Ç–µ <span class="highlight-quantity">${currentPortions * 200} –≥</span> —à–ø–∏–Ω–∞—Ç–∞ –≤ –±–æ–ª–æ–Ω—å–µ–∑–µ –∑–∞ 5 –º–∏–Ω—É—Ç –¥–æ –∫–æ–Ω—Ü–∞ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è.`,
                        timer: 5
                    });
                }
                
                steps.push({
                    text: `–ü—Ä–∏–≥–æ—Ç–æ–≤—å—Ç–µ –±–µ—à–∞–º–µ–ª—å: —Ä–∞—Å—Ç–æ–ø–∏—Ç–µ <span class="highlight-quantity">${currentPortions * 50} –≥</span> –º–∞—Å–ª–∞, –¥–æ–±–∞–≤—å—Ç–µ <span class="highlight-quantity">${currentPortions * 50} –≥</span> –º—É–∫–∏, –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –≤–ª–µ–π—Ç–µ <span class="highlight-quantity">${currentPortions * 500} –º–ª</span> –º–æ–ª–æ–∫–∞, –¥–æ–±–∞–≤—å—Ç–µ –º—É—Å–∫–∞—Ç–Ω—ã–π –æ—Ä–µ—Ö.`,
                    timer: 10
                });
                
                steps.push({
                    text: `–°–æ–±–µ—Ä–∏—Ç–µ –ª–∞–∑–∞–Ω—å—é: —Å–º–∞–∂—å—Ç–µ —Ñ–æ—Ä–º—É –º–∞—Å–ª–æ–º. –í—ã–ª–æ–∂–∏—Ç–µ —Å–ª–æ—è–º–∏: —Å–æ—É—Å –±–æ–ª–æ–Ω—å–µ–∑–µ ‚Üí –ª–∏—Å—Ç—ã –ª–∞–∑–∞–Ω—å–∏ ‚Üí –±–µ—à–∞–º–µ–ª—å ‚Üí —Å—ã—Ä. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ 3-4 —Ä–∞–∑–∞.`,
                    details: `–ù—É–∂–Ω–æ –ø—Ä–∏–º–µ—Ä–Ω–æ <span class="highlight-quantity">${sheetsAmount}</span> –ª–∏—Å—Ç–æ–≤ –ª–∞–∑–∞–Ω—å–∏.`,
                    timer: 10
                });
                
                steps.push({
                    text: `–ü–æ—Å–ª–µ–¥–Ω–∏–π —Å–ª–æ–π: –±–µ—à–∞–º–µ–ª—å + –º–Ω–æ–≥–æ —Å—ã—Ä–∞. –ù–∞–∫—Ä–æ–π—Ç–µ —Ñ–æ–ª—å–≥–æ–π. –í—ã–ø–µ–∫–∞–π—Ç–µ –ø–æ–¥ —Ñ–æ–ª—å–≥–æ–π 25 –º–∏–Ω—É—Ç –ø—Ä–∏ 180¬∞C.`,
                    timer: 25
                });
                
                steps.push({
                    text: `–°–Ω–∏–º–∏—Ç–µ —Ñ–æ–ª—å–≥—É –∏ –≤—ã–ø–µ–∫–∞–π—Ç–µ –µ—â–µ 15-20 –º–∏–Ω—É—Ç –¥–æ –∑–æ–ª–æ—Ç–∏—Å—Ç–æ–π –∫–æ—Ä–æ—á–∫–∏.`,
                    timer: 20
                });
                
                steps.push({
                    text: `–î–∞–π—Ç–µ –ª–∞–∑–∞–Ω—å–µ –æ—Ç–¥–æ—Ö–Ω—É—Ç—å 10-15 –º–∏–Ω—É—Ç –ø–µ—Ä–µ–¥ –Ω–∞—Ä–µ–∑–∫–æ–π –∏ –ø–æ–¥–∞—á–µ–π.`,
                    timer: 15
                });
                
            } else if (type === "pesto") {
                const nutType = recipeOptionsData.find(o => o.id === "nutType");
                const selectedNut = nutType.options.find(o => o.value === options.nutType);
                const nutName = selectedNut ? selectedNut.displayName : "–∫–µ–¥—Ä–æ–≤—ã–µ –æ—Ä–µ—à–∫–∏";
                const nutAmount = currentPortions * 30;
                const pastaAmount = currentPortions * 100;
                const basilAmount = currentPortions * 50;
                
                steps.push({
                    text: `–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã: –ø—Ä–æ–º–æ–π—Ç–µ –∏ –æ–±—Å—É—à–∏—Ç–µ <span class="highlight-quantity">${formatAmount(basilAmount, '–≥')}</span> –±–∞–∑–∏–ª–∏–∫–∞, –Ω–∞—Ç—Ä–∏—Ç–µ <span class="highlight-quantity">${currentPortions * 50} –≥</span> –ø–∞—Ä–º–µ–∑–∞–Ω–∞.`,
                    cuttingInstruction: `<strong>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:</strong><br>‚Ä¢ –ë–∞–∑–∏–ª–∏–∫: –æ—Ç–¥–µ–ª–∏—Ç—å –ª–∏—Å—Ç—å—è –æ—Ç —Å—Ç–µ–±–ª–µ–π<br>‚Ä¢ –ü–∞—Ä–º–µ–∑–∞–Ω: –Ω–∞—Ç–µ—Ä–µ—Ç—å –Ω–∞ –º–µ–ª–∫–æ–π —Ç—ë—Ä–∫–µ<br>‚Ä¢ –ß–µ—Å–Ω–æ–∫: –æ—á–∏—Å—Ç–∏—Ç—å<br>‚Ä¢ –û—Ä–µ—Ö–∏: —Å–ª–µ–≥–∫–∞ –ø–æ–¥—Ä—É–º—è–Ω–∏—Ç—å –Ω–∞ —Å—É—Ö–æ–π —Å–∫–æ–≤–æ—Ä–æ–¥–µ<br>${options.addAvocado ? `<br>‚Ä¢ –ê–≤–æ–∫–∞–¥–æ: –æ—á–∏—Å—Ç–∏—Ç—å, —É–¥–∞–ª–∏—Ç—å –∫–æ—Å—Ç–æ—á–∫—É, –Ω–∞—Ä–µ–∑–∞—Ç—å –∫—É–±–∏–∫–∞–º–∏` : ''}`,
                    timer: 0
                });
                
                steps.push({
                    text: `–í —Å—Ç—É–ø–∫–µ –∏–ª–∏ –±–ª–µ–Ω–¥–µ—Ä–µ –∏–∑–º–µ–ª—å—á–∏—Ç–µ <span class="highlight-quantity">${currentPortions}</span> –∑—É–±—á–∏–∫ —á–µ—Å–Ω–æ–∫–∞ —Å —â–µ–ø–æ—Ç–∫–æ–π —Å–æ–ª–∏.`,
                    timer: 2
                });
                
                steps.push({
                    text: `–î–æ–±–∞–≤—å—Ç–µ <span class="highlight-quantity">${formatAmount(nutAmount, '–≥')}</span> ${nutName} –∏ –∏–∑–º–µ–ª—å—á–∏—Ç–µ –¥–æ –ø–∞—Å—Ç–æ–æ–±—Ä–∞–∑–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.`,
                    timer: 2
                });
                
                steps.push({
                    text: `–î–æ–±–∞–≤–ª—è–π—Ç–µ –ª–∏—Å—Ç—å—è –±–∞–∑–∏–ª–∏–∫–∞ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ, –ø—Ä–æ–¥–æ–ª–∂–∞—è –∏–∑–º–µ–ª—å—á–∞—Ç—å.`,
                    timer: 3
                });
                
                if (options.addSpinach) {
                    steps.push({
                        text: `–î–æ–±–∞–≤—å—Ç–µ <span class="highlight-quantity">${currentPortions * 50} –≥</span> —à–ø–∏–Ω–∞—Ç–∞.`,
                        timer: 1
                    });
                }
                
                if (options.addAvocado) {
                    steps.push({
                        text: `–î–æ–±–∞–≤—å—Ç–µ –º—è–∫–æ—Ç—å <span class="highlight-quantity">${currentPortions} —à—Ç.</span> –∞–≤–æ–∫–∞–¥–æ.`,
                        timer: 1
                    });
                }
                
                steps.push({
                    text: `–í–ª–µ–π—Ç–µ <span class="highlight-quantity">${currentPortions * 100} –º–ª</span> –æ–ª–∏–≤–∫–æ–≤–æ–≥–æ –º–∞—Å–ª–∞, –ø—Ä–æ–¥–æ–ª–∂–∞—è –ø–µ—Ä–µ–º–µ—à–∏–≤–∞—Ç—å.`,
                    timer: 1
                });
                
                steps.push({
                    text: `–î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Ä—Ç—ã–π –ø–∞—Ä–º–µ–∑–∞–Ω –∏ –ø–µ—Ä–µ–º–µ—à–∞–π—Ç–µ –¥–æ –æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç–∏.`,
                    timer: 1
                });
                
                steps.push({
                    text: `–û—Ç–≤–∞—Ä–∏—Ç–µ <span class="highlight-quantity">${formatAmount(pastaAmount, '–≥')}</span> –ø–∞—Å—Ç—ã –≤ –ø–æ–¥—Å–æ–ª–µ–Ω–Ω–æ–π –≤–æ–¥–µ. –°–ª–µ–π—Ç–µ, –æ—Å—Ç–∞–≤–∏–≤ –Ω–µ–º–Ω–æ–≥–æ –≤–æ–¥—ã. –°–º–µ—à–∞–π—Ç–µ –ø–∞—Å—Ç—É —Å –ø–µ—Å—Ç–æ.`,
                    timer: 12
                });
                
            } else if (type === "seafood") {
                const seafoodType = recipeOptionsData.find(o => o.id === "seafoodMix");
                const selectedSeafood = seafoodType.options.find(o => o.value === options.seafoodMix);
                const seafoodName = selectedSeafood ? selectedSeafood.displayName : "–∫—Ä–µ–≤–µ—Ç–∫–∏, –º–∏–¥–∏–∏ –∏ –∫–∞–ª—å–º–∞—Ä—ã";
                const pastaAmount = currentPortions * 100;
                let seafoodDetails = "";
                
                if (options.seafoodMix === "premium") {
                    seafoodDetails = `<span class="highlight-quantity">${currentPortions * 150} –≥</span> –∫—Ä–µ–≤–µ—Ç–æ–∫, <span class="highlight-quantity">${currentPortions * 150} –≥</span> –º–∏–¥–∏–π, <span class="highlight-quantity">${currentPortions * 100} –≥</span> –∫–∞–ª—å–º–∞—Ä–æ–≤`;
                } else if (options.seafoodMix === "standard") {
                    seafoodDetails = `<span class="highlight-quantity">${currentPortions * 200} –≥</span> –∫—Ä–µ–≤–µ—Ç–æ–∫, <span class="highlight-quantity">${currentPortions * 150} –≥</span> –º–∏–¥–∏–π`;
                } else {
                    seafoodDetails = `<span class="highlight-quantity">${currentPortions * 250} –≥</span> –∫—Ä–µ–≤–µ—Ç–æ–∫`;
                }
                
                if (options.addScallops) {
                    seafoodDetails += `, <span class="highlight-quantity">${currentPortions * 100} –≥</span> –≥—Ä–µ–±–µ—à–∫–æ–≤`;
                }
                
                steps.push({
                    text: `–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã: ${seafoodDetails}.`,
                    cuttingInstruction: `<strong>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–≤:</strong><br>‚Ä¢ –ö—Ä–µ–≤–µ—Ç–∫–∏: –æ—á–∏—Å—Ç–∏—Ç—å, –æ—Å—Ç–∞–≤–∏—Ç—å —Ö–≤–æ—Å—Ç–∏–∫–∏ –ø–æ –∂–µ–ª–∞–Ω–∏—é<br>‚Ä¢ –ú–∏–¥–∏–∏: –ø—Ä–æ–º—ã—Ç—å, —É–¥–∞–ª–∏—Ç—å –±–æ—Ä–æ–¥—É<br>‚Ä¢ –ö–∞–ª—å–º–∞—Ä—ã: –µ—Å–ª–∏ —Ü–µ–ª—ã–µ, –æ—á–∏—Å—Ç–∏—Ç—å –æ—Ç –ø–ª—ë–Ω–∫–∏, –Ω–∞—Ä–µ–∑–∞—Ç—å –∫–æ–ª—å—Ü–∞–º–∏<br>‚Ä¢ –ì—Ä–µ–±–µ—à–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å): –ø—Ä–æ–º—ã—Ç—å, –æ–±—Å—É—à–∏—Ç—å<br>‚Ä¢ –ß–µ—Å–Ω–æ–∫: –∏–∑–º–µ–ª—å—á–∏—Ç—å<br>‚Ä¢ –ß–∏–ª–∏: —Ç–æ–Ω–∫–∏–µ –∫–æ–ª–µ—á–∫–∏ (–ø–æ –∂–µ–ª–∞–Ω–∏—é)<br>‚Ä¢ –ü–æ–º–∏–¥–æ—Ä—ã —á–µ—Ä—Ä–∏: —Ä–∞–∑—Ä–µ–∑–∞—Ç—å –ø–æ–ø–æ–ª–∞–º`,
                    timer: 0
                });
                
                steps.push({
                    text: `–í –±–æ–ª—å—à–æ–π —Å–∫–æ–≤–æ—Ä–æ–¥–µ —Ä–∞–∑–æ–≥—Ä–µ–π—Ç–µ –æ–ª–∏–≤–∫–æ–≤–æ–µ –º–∞—Å–ª–æ. –û–±–∂–∞—Ä—å—Ç–µ —á–µ—Å–Ω–æ–∫ –∏ —á–∏–ª–∏ 1-2 –º–∏–Ω—É—Ç—ã.`,
                    timer: 2
                });
                
                steps.push({
                    text: `–î–æ–±–∞–≤—å—Ç–µ –∫—Ä–µ–≤–µ—Ç–∫–∏ –∏ –∫–∞–ª—å–º–∞—Ä—ã (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ). –û–±–∂–∞—Ä–∏–≤–∞–π—Ç–µ 2-3 –º–∏–Ω—É—Ç—ã –¥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–≤–µ—Ç–∞.`,
                    details: `–ö—Ä–µ–≤–µ—Ç–∫–∏ –≥–æ—Ç–æ–≤—ã, –∫–æ–≥–¥–∞ —Å—Ç–∞–Ω—É—Ç —Ä–æ–∑–æ–≤—ã–º–∏ –∏ —Å–≤–µ—Ä–Ω—É—Ç—Å—è –±—É–∫–≤–æ–π "C".`,
                    timer: 3
                });
                
                if (options.addScallops) {
                    steps.push({
                        text: `–î–æ–±–∞–≤—å—Ç–µ –≥—Ä–µ–±–µ—à–∫–∏, –æ–±–∂–∞—Ä–∏–≤–∞–π—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã —Å –∫–∞–∂–¥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã.`,
                        timer: 3
                    });
                }
                
                steps.push({
                    text: `–î–æ–±–∞–≤—å—Ç–µ –º–∏–¥–∏–∏ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ) –∏ –ø–æ–º–∏–¥–æ—Ä—ã —á–µ—Ä—Ä–∏. –í–ª–µ–π—Ç–µ <span class="highlight-quantity">${currentPortions * 100} –º–ª</span> –±–µ–ª–æ–≥–æ –≤–∏–Ω–∞. –¢—É—à–∏—Ç–µ –¥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è –º–∏–¥–∏–π.`,
                    timer: 5
                });
                
                steps.push({
                    text: `–û—Ç–≤–∞—Ä–∏—Ç–µ <span class="highlight-quantity">${formatAmount(pastaAmount, '–≥')}</span> –ø–∞—Å—Ç—ã –≤ –ø–æ–¥—Å–æ–ª–µ–Ω–Ω–æ–π –≤–æ–¥–µ –¥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è al dente.`,
                    timer: 10
                });
                
                steps.push({
                    text: `–î–æ–±–∞–≤—å—Ç–µ –ø–∞—Å—Ç—É –≤ —Å–∫–æ–≤–æ—Ä–æ–¥—É —Å –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–∞–º–∏, –ø–µ—Ä–µ–º–µ—à–∞–π—Ç–µ.`,
                    timer: 1
                });
                
                steps.push({
                    text: `–ü–æ–¥–∞–≤–∞–π—Ç–µ —Å—Ä–∞–∑—É, —Å–±—Ä—ã–∑–Ω—É–≤ –ª–∏–º–æ–Ω–Ω—ã–º —Å–æ–∫–æ–º –∏ –ø–æ—Å—ã–ø–∞–≤ –ø–µ—Ç—Ä—É—à–∫–æ–π.`,
                    timer: 0
                });
            }
            
            return steps;
        }

        // –û–ë–ù–û–í–õ–ï–ù–ò–ï –°–¢–û–ò–ú–û–°–¢–ò
        function updateCost(recipe) {
            let pastaCost = 0;
            let sauceCost = 0;
            let cheeseCost = 0;
            
            const allIngredients = [...recipe.baseIngredients, ...recipe.sauceIngredients, ...recipe.additionalIngredients];
            
            recipe.options.forEach(option => {
                if (option.type === 'checkbox' && selectedOptions[currentPastaType][option.id] && option.additionalIngredient) {
                    allIngredients.push(option.additionalIngredient);
                }
            });
            
            allIngredients.forEach(ing => {
                const amount = ing.baseAmount * currentPortions;
                const price = (ing.price / ing.baseAmount) * amount;
                
                if (ing.name.toLowerCase().includes('—Å—ã—Ä') || ing.name.toLowerCase().includes('–ø–∞—Ä–º–µ–∑–∞–Ω') || 
                    ing.name.toLowerCase().includes('–º–æ—Ü–∞—Ä–µ–ª–ª–∞') || ing.name.toLowerCase().includes('–ø–µ–∫–æ—Ä–∏–Ω–æ')) {
                    cheeseCost += price;
                } else if (ing.name.toLowerCase().includes('–ø–∞—Å—Ç–∞') || ing.name.toLowerCase().includes('—Å–ø–∞–≥–µ—Ç—Ç–∏') || 
                           ing.name.toLowerCase().includes('–ª–∞–∑–∞–Ω—å')) {
                    pastaCost += price;
                } else {
                    sauceCost += price;
                }
            });
            
            recipe.options.forEach(option => {
                if (option.type === 'radio') {
                    const selectedValue = selectedOptions[currentPastaType][option.id];
                    const selectedOption = option.options.find(opt => opt.value === selectedValue);
                    if (selectedOption) {
                        sauceCost += selectedOption.price * currentPortions;
                    }
                }
            });
            
            const totalCost = pastaCost + sauceCost + cheeseCost;
            const costPerServingValue = totalCost / currentPortions;
            
            costPasta.textContent = `${Math.round(pastaCost)} —Ä—É–±`;
            costSauce.textContent = `${Math.round(sauceCost)} —Ä—É–±`;
            costCheese.textContent = `${Math.round(cheeseCost)} —Ä—É–±`;
            costTotal.textContent = `${Math.round(totalCost)} —Ä—É–±`;
            costPerServing.textContent = `~${Math.round(costPerServingValue)} —Ä—É–±`;
        }

        // –û–ë–ù–û–í–õ–ï–ù–ò–ï –ü–†–û–ì–†–ï–°–°–ê –ü–û–ö–£–ü–û–ö
        function updateProgress() {
            const recipe = pastaRecipes[currentPastaType];
            let total = recipe.baseIngredients.length + recipe.sauceIngredients.length + recipe.additionalIngredients.length;
            
            recipe.options.forEach(option => {
                if (option.type === 'checkbox' && selectedOptions[currentPastaType][option.id] && option.additionalIngredient) {
                    total++;
                }
            });
            
            let bought = 0;
            recipe.baseIngredients.forEach(ing => {
                const id = `${currentPastaType}-${ing.id}`;
                if (boughtIngredients[id]) bought++;
            });
            recipe.sauceIngredients.forEach(ing => {
                const id = `${currentPastaType}-${ing.id}`;
                if (boughtIngredients[id]) bought++;
            });
            recipe.additionalIngredients.forEach(ing => {
                const id = `${currentPastaType}-${ing.id}`;
                if (boughtIngredients[id]) bought++;
            });
            
            recipe.options.forEach(option => {
                if (option.type === 'checkbox' && selectedOptions[currentPastaType][option.id] && option.additionalIngredient) {
                    const id = `${currentPastaType}-${option.additionalIngredient.id}`;
                    if (boughtIngredients[id]) bought++;
                }
            });
            
            const percentage = total > 0 ? (bought / total) * 100 : 0;
            
            boughtCount.textContent = bought;
            progressFill.style.width = `${percentage}%`;
            progressPercent.textContent = `${Math.round(percentage)}%`;
        }

        // –°–ë–†–û–° –°–ü–ò–°–ö–ê –ü–û–ö–£–ü–û–ö
        resetListBtn.addEventListener('click', function() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫ –¥–ª—è –≤—Å–µ—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤?')) {
                boughtIngredients = {};
                localStorage.removeItem('pastaBoughtIngredients');
                
                document.querySelectorAll('.ingredient-checkbox').forEach(checkbox => {
                    checkbox.checked = false;
                });
                
                document.querySelectorAll('.ingredients-list li').forEach(li => {
                    li.classList.remove('completed');
                });
                
                updateProgress();
                
                this.innerHTML = '<i class="fas fa-check"></i> –°–ø–∏—Å–æ–∫ —Å–±—Ä–æ—à–µ–Ω!';
                this.style.backgroundColor = 'var(--red)';
                setTimeout(() => {
                    this.innerHTML = '<i class="fas fa-redo"></i> –°–±—Ä–æ—Å–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫';
                    this.style.backgroundColor = '';
                }, 1500);
            }
        });

        // –¢–ê–ô–ú–ï–†
        function openTimerModal(title, minutes) {
            const seconds = minutes * 60;
            
            const modal = document.createElement('div');
            modal.id = 'timer-modal';
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.7);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 1000;
                backdrop-filter: blur(5px);
            `;
            
            modal.innerHTML = `
                <div style="background: white; padding: 30px; border-radius: 20px; text-align: center; max-width: 400px; width: 90%; position: relative;">
                    <button id="close-timer" style="position: absolute; top: 15px; right: 15px; background: none; border: none; font-size: 1.8rem; cursor: pointer; color: #999;">&times;</button>
                    <h2 style="color: var(--green); margin-bottom: 20px;">${title}</h2>
                    <div id="timer-display" style="font-size: 4.5rem; font-weight: bold; color: var(--red); margin: 20px 0; font-family: 'Courier New', monospace;">${minutes.toString().padStart(2, '0')}:00</div>
                    <div style="width: 100%; height: 12px; background: #eee; border-radius: 6px; margin: 25px 0; overflow: hidden;">
                        <div id="timer-progress-bar" style="height: 100%; background: linear-gradient(90deg, var(--green), var(--red)); width: 100%; transform: scaleX(0); transform-origin: left;"></div>
                    </div>
                    <div style="display: flex; justify-content: center; gap: 15px; margin-top: 25px;">
                        <button id="start-timer" style="padding: 12px 25px; background: var(--green); color: white; border: none; border-radius: 50px; font-weight: bold; cursor: pointer; display: flex; align-items: center; gap: 8px;">
                            <i class="fas fa-play"></i> –°—Ç–∞—Ä—Ç
                        </button>
                        <button id="pause-timer" style="padding: 12px 25px; background: var(--gold); color: #333; border: none; border-radius: 50px; font-weight: bold; cursor: pointer; display: flex; align-items: center; gap: 8px;">
                            <i class="fas fa-pause"></i> –ü–∞—É–∑–∞
                        </button>
                        <button id="reset-timer" style="padding: 12px 25px; background: #ddd; color: #333; border: none; border-radius: 50px; font-weight: bold; cursor: pointer; display: flex; align-items: center; gap: 8px;">
                            <i class="fas fa-stop"></i> –°–±—Ä–æ—Å
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            let timerInterval = null;
            let timerSeconds = seconds;
            let isTimerRunning = false;
            let totalTimerSeconds = seconds;
            
            const timerDisplay = document.getElementById('timer-display');
            const timerProgressBar = document.getElementById('timer-progress-bar');
            const startTimerBtn = document.getElementById('start-timer');
            const pauseTimerBtn = document.getElementById('pause-timer');
            const resetTimerBtn = document.getElementById('reset-timer');
            const closeTimerBtn = document.getElementById('close-timer');
            
            function updateTimerDisplay() {
                const minutes = Math.floor(timerSeconds / 60);
                const seconds = timerSeconds % 60;
                timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                const progress = ((totalTimerSeconds - timerSeconds) / totalTimerSeconds) * 100;
                timerProgressBar.style.transform = `scaleX(${progress / 100})`;
                
                if (timerSeconds < 10 && timerSeconds > 0) {
                    timerDisplay.style.color = 'var(--red)';
                }
            }
            
            function startTimer() {
                if (isTimerRunning) return;
                
                isTimerRunning = true;
                const startTime = Date.now() - (totalTimerSeconds - timerSeconds) * 1000;
                
                timerInterval = setInterval(() => {
                    const elapsedSeconds = Math.floor((Date.now() - startTime) / 1000);
                    timerSeconds = Math.max(totalTimerSeconds - elapsedSeconds, 0);
                    
                    updateTimerDisplay();
                    
                    if (timerSeconds <= 0) {
                        clearInterval(timerInterval);
                        isTimerRunning = false;
                        playTimerCompleteSound();
                    }
                }, 100);
            }
            
            function pauseTimer() {
                isTimerRunning = false;
                clearInterval(timerInterval);
            }
            
            function resetTimer() {
                pauseTimer();
                timerSeconds = totalTimerSeconds;
                updateTimerDisplay();
                timerDisplay.style.color = 'var(--red)';
            }
            
            function closeTimerModal() {
                pauseTimer();
                document.body.removeChild(modal);
            }
            
            startTimerBtn.addEventListener('click', startTimer);
            pauseTimerBtn.addEventListener('click', pauseTimer);
            resetTimerBtn.addEventListener('click', resetTimer);
            closeTimerBtn.addEventListener('click', closeTimerModal);
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeTimerModal();
                }
            });
            
            updateTimerDisplay();
        }

        // –ó–í–£–ö –ó–ê–í–ï–†–®–ï–ù–ò–Ø –¢–ê–ô–ú–ï–†–ê
        function playTimerCompleteSound() {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(400, audioContext.currentTime + 0.5);
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.8);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.8);
            } catch (e) {
                console.log("–ê—É–¥–∏–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è");
            }
        }
    </script>
</body>
</html>
